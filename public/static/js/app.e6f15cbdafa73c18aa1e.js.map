{"version":3,"sources":["webpack:///./src/util/range.js","webpack:///./src/components/NavHeader.vue?8e08","webpack:///./src/components/NavHeader.vue","webpack:///src/components/NavHeader.vue","webpack:///./src/util/Node.js","webpack:///./src/util/modes.js","webpack:///./src/util/CanvasState.js","webpack:///./src/components/RangeSlider.vue?759e","webpack:///./src/components/RangeSlider.vue","webpack:///src/components/RangeSlider.vue","webpack:///./src/components/Triplets.vue?c92c","webpack:///./src/components/Triplets.vue","webpack:///src/components/Triplets.vue","webpack:///src/components/Classifier.vue","webpack:///./src/components/Classifier.vue?1f11","webpack:///./src/components/Classifier.vue","webpack:///./src/icons/Scissors.vue?3238","webpack:///src/components/TsneMap.vue","webpack:///./src/icons/Scissors.vue","webpack:///src/icons/Scissors.vue","webpack:///./src/components/TsneMap.vue?1795","webpack:///./src/components/TsneMap.vue","webpack:///src/App.vue","webpack:///./src/App.vue?797f","webpack:///./src/App.vue","webpack:///./src/components/Welcome.vue?64b4","webpack:///./src/components/Welcome.vue","webpack:///src/components/Welcome.vue","webpack:///src/components/Svm.vue","webpack:///./src/components/Svm.vue?6144","webpack:///./src/components/Svm.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["module","exports","ids","coords","minX","minY","maxX","maxY","nodeSize","stack","length","result","x","y","axis","pop","right","left","i","push","m","Math","floor","nextAxis","components_NavHeader","render","_vm","this","_h","$createElement","_c","_self","attrs","id","to","_v","staticRenderFns","src_components_NavHeader","__webpack_require__","normalizeComponent","ssrContext","Node","data","ctx","hitCtx","classCallCheck_default","name","links","index","_x","_y","_width","_height","colorKey","color","cluster","positives","negatives","label","labels","initX","initY","activeScale","scale","icon","Image","src","buffer","_isActive","isActiveNeighbour","hasImage","image","imgScale","timerId","_value","scale2","imgWidth","imgData","w","width","h","height","drawImage","fillStyle","fillRect","s","activeImgWidth","isActive","globalAlpha","value","borderWidth","labelColor","lineWidth","strokeStyle","strokeRect","v","SVM","CanvasState","canvas","hitCanvas","socket","ui","_this","triggerDraw","valid","addNode","node","nodes","colorHash","draw","console","log","clear","values_default","forEach","drawClusterd","showKLabels","drawBorder","activeImgScale","selectedLabel","indexOf","drawScissors","scissorsStartX","translateX","scissorsStartY","translateY","scissorsEndX","scissorsEndY","zoom","wheelEvent","preventDefault","stopPropagation","nodeUnderMouse","findNodeByMousePosition","offsetX","offsetY","selection","deltaY","mouseX","mouseY","oldScale","scrollGrowth","scrollImgGrowth","clusterGrowth","scaleChange","handleMouseDown","e","shiftKeyPressed","shiftKey","ctrlKeyPressed","ctrlKey","altKeyPressed","altKey","startX","startY","draggNode","activeMode","activeNode","scissors","dragging","handleMouseMove","emit","moveX","moveY","nodeX","nodeY","move","keys_default","neighbour","removeSelection","selectNode","handleMouseUp","clickedNode","$route","cuttedNodes","endX","endY","handleDoubleClick","getContext","kdtree","_valid","_cluster","updateClusterUI","_scale","_scale2","updateScaleUI","updateScale2UI","_imgScale","_activeImgScale","_borderWidth","_scrollGrowth","_scrollImgGrowth","_clusterGrowth","interval","offsetLeft","getBoundingClientRect","offsetTop","top","onmousedown","onmousemove","onmouseup","ondblclick","onwheel","range_default","resetTransform","clearRect","translate","pixel","getImageData","nodeId","_this2","entries_default","_ref","_ref2","slicedToArray_default","strength","_this3","selectedNode","window","requestAnimationFrame","components_RangeSlider","type","min","max","step","domProps","src_components_RangeSlider","RangeSlider_normalizeComponent","components_Triplets","staticClass","class","redActive","on","click","toogleRed","_l","n","key","alt","$event","removeNegativ","_e","greenActive","toogleBlue","removePositiv","src_components_Triplets","Triplets_normalizeComponent","Classifier","components_Classifier","removeNode","directives","rawName","expression","focus","handleFocus","blur","handleBlur","input","target","composing","mouseenter","mouseOver","mouseleave","chooseLabel","_s","addLabel","src_components_Classifier","Classifier_normalizeComponent","icons_Scissors","active","xmlns","viewBox","fill","stroke","stroke-width","stroke-linecap","stroke-linejoin","clickHandler","cx","cy","r","x1","y1","x2","y2","TsneMap","Scissors","Scissors_normalizeComponent","RangeSlider","Triplets","getNodes","resetStore","showOptions","imageScale","parantWidth","updateSelection","updateScale","updateScale2","addNodeToClassify","store","nodesCount","disconnect","components_TsneMap","showLabels","style","toogleLabel","toggleShowKLabels","toggleShowOptions","sendData","selectScissors","ref","tabindex","round","changeCluster","changeImgWidth","activeImgWidthLess","activeImgWidthMore","borderWidthLess","borderWidthMore","changeScrollGrowth","changeScrollImgGrowth","changeClusterGrowth","getNode","changeActiveNode","selectedNodeNeighboursCount","App","TsneMap_normalizeComponent","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","components_Welcome","src_components_Welcome","Welcome_normalizeComponent","Svm","positivesAll","negativesAll","body","then","res","components_Svm","activePositiv","selectPositives","toggleActive","mouseover","handleMouseOver","removePositives","activeNegativ","removeNegatives","trainSvm","stopSvm","src_components_Svm","Svm_normalizeComponent","vue_esm","use","vue_router_esm","routes","path","component","props","config","productionTip","el","router","components","template"],"mappings":"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","file":"static/js/app.e6f15cbdafa73c18aa1e.js","sourcesContent":["\n// https://github.com/mourner/kdbush/tree/master/src\n\nfunction range(ids, coords, minX, minY, maxX, maxY, nodeSize) {\n    const stack = [0, ids.length - 1, 0];\n    const result = [];\n    let x;\n    let y;\n\n    while (stack.length) {\n        const axis = stack.pop();\n        const right = stack.pop();\n        const left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (let i = left; i <= right; i++) {\n                x = coords[2 * i];\n                y = coords[(2 * i) + 1];\n                if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[i]);\n            }\n            continue;\n        }\n\n        const m = Math.floor((left + right) / 2);\n\n        x = coords[2 * m];\n        y = coords[(2 * m) + 1];\n\n        if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[m]);\n\n        const nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? minX <= x : minY <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? maxX >= x : maxY >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n\nmodule.exports = range;\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/range.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"header\"}},[_c('router-link',{attrs:{\"to\":\"/svm\"}},[_vm._v(\"SVM\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/classifier\"}},[_vm._v(\"Classifier\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/triplets\"}},[_vm._v(\"Triplets\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/neighbours\"}},[_vm._v(\"Neighbours\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/tsne\"}},[_vm._v(\"t-SNE\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d4955c6a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NavHeader.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d4955c6a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NavHeader.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NavHeader.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NavHeader.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d4955c6a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NavHeader.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d4955c6a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NavHeader.vue\n// module id = null\n// module chunks = ","<template>\n    <div id=\"header\">\n        <router-link to=\"/svm\">SVM</router-link>\n        <router-link to=\"/classifier\">Classifier</router-link>\n        <router-link to=\"/triplets\">Triplets</router-link>\n        <router-link to=\"/neighbours\">Neighbours</router-link>\n        <router-link to=\"/tsne\">t-SNE</router-link>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'NavHeader',\n};\n</script>\n\n<style scoped>\n    #header {\n        display: flex;\n        /*justify-content: flex-end;*/\n        align-items: center;\n        /*height: 50px;*/\n        box-shadow: 0 1px 6px rgba(32, 33, 36, 0.28);\n    }\n\n    a {\n        text-decoration: none;\n\n        display: flex;\n        align-items: center;\n        height: 40px;\n\n        font-weight: bold;\n        padding: 0 1em;\n        margin-bottom: 5px;\n        color: #767676;\n    }\n\n    a:hover {\n         color: #484848;\n     }\n\n    .router-link-exact-active {\n         /*//background-color: paleturquoise;*/\n         border-bottom: 5px solid paleturquoise;\n         color: #484848;\n         margin-bottom: 0;\n     }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NavHeader.vue","\n/* eslint no-underscore-dangle: [\"error\", { \"allowAfterThis\": true }] */\nexport default class Node {\n    constructor(data, ctx, hitCtx) {\n        this.name = data.name;\n        this.links = data.links;\n        this.index = data.index;\n        this._x = data.x;\n        this._y = data.y;\n        this._width = 1; // 40;\n        this._height = 1; // 40;\n        this.colorKey = data.colorKey;\n        this.color = data.color;\n        this.ctx = ctx;\n        this.hitCtx = hitCtx;\n\n        this.cluster = data.cluster;\n        this.positives = data.positives;\n        this.negatives = data.negatives;\n\n        this.label = data.label;\n        this.labels = data.labels;\n        // x,y for reseting\n        this.initX = data.x;\n        this.initY = data.y;\n\n        this.activeScale = 3; // showing images bigger\n        this.scale = 1; // TODO is not needen anymore\n        this.icon = new Image();\n        this.icon.src = data.buffer;\n\n        this._isActive = false; // handle clicked node\n        this.isActiveNeighbour = false; // is this a neighbour of a active node?\n        this.hasImage = false; // is there detailed image?\n\n        this.image = new Image();\n        // this.image.src = `data:image/jpeg;base64,${data.buffer}`;\n\n        this.scale = null; // used for scaling the x/y position\n        this.imgScale = null; // used for scaling img width\n        //\n        this.timerId = 0;\n\n        this._value = null; // value will be set by the active nodes neighbour-values, default is 5\n\n        // this.imgData = makeImgageData(this.icon)\n    }\n\n    get width() {\n        const w = this._width;\n        if (this.isActive) return w + (w * this.activeScale);\n        if (this.isActiveNeighbour) return w + (w * this.activeScale * this.value);\n        return w;\n    }\n\n    set width(value) {\n        this._width = value;\n    }\n\n    get height() {\n        const h = this._height;\n        if (this.isActive) return h + (h * this.activeScale);\n        if (this.isActiveNeighbour) return h + (h * this.activeScale * this.value);\n        return h;\n    }\n\n    set height(value) {\n        this._height = value;\n    }\n\n    get value() {\n        return this._value;\n    }\n\n    set value(v) {\n        if (v < 0.1) this._value = 0.1;\n        else if (v > 1) this._value = 1;\n        else this._value = v;\n    }\n\n    get isActive() {\n        return this._isActive;\n    }\n\n    set isActive(v) {\n        this._isActive = v;\n\n        /* if(this.timerId) clearInterval(this.timerId);\n        this._isActive = v;\n        if (v === true) {\n            this._isActive = v;\n            this.timerId = setInterval(() => {\n                console.log(this.activeScale)\n                this.activeScale += 0.1;\n                ;\n                if (this.activeScale >= 5) {\n                    clearInterval(this.timerId);\n                    this.activeScale = 5\n                }\n                this.triggerDraw()\n            }, 100);\n        } else if(v === false) {\n            this.timerId = setInterval(() => {\n                this.activeScale -= 0.1;\n                this.triggerDraw();\n\n                if (this.activeScale <= 1) {\n                    this._isActive = v;\n                    clearInterval(this.timerId);\n                    this.activeScale = 1\n                }\n                this.triggerDraw();\n            }, 100);\n        } */\n    }\n\n    // if isActive\n    // scale x to real/current 2d-coords\n    // subtract half width for moving left, width scaled with ImageScale\n    // scale back to Node x/y\n    // TODO the last point is because of the context is scaling it again - maybe we could get rid of this?\n\n    get x() {\n        // return this._x - (this.width / 2 / this.scale);\n        return this._x;\n    }\n\n    set x(value) {\n        this._x = value;\n    }\n\n    get y() {\n        // return this._y - (this.height / 2 / this.scale);\n        return this._y;\n    }\n\n    set y(value) {\n        this._y = value;\n    }\n\n    // simple changing the x/y is not possible because\n    // they have special getters witch would be use while setting/+= values\n    move(x, y) {\n        this._x += x;\n        this._y += y;\n    }\n\n\n    // ctx is the canvas context\n    // scale change through zooming and is used for positioning the images\n    async draw(scale, scale2, imgWidth, cluster) {\n        // console.log('start draw Image');\n        // check which picture to use\n        // this.scale = 1; // scale;\n\n        const imgData = this.icon;\n\n        /* const x = this.x;\n        const y = this.y;\n        const w = this.width; // scale / 2;\n        const h = this.height; // scale / 2 ;\n        */\n        const w = imgData.width * imgWidth / 100 / scale2;\n        const h = imgData.height * imgWidth / 100 / scale2;\n        const x = this._x - (w / 2);\n        const y = this._y - (h / 2);\n\n\n        // const data = await createImageBitmap(imgData, 0, 0, w, h)\n        // createImageBitmap(imgData,0, 0, 2, 2, {resizeHeight: h, resizeWidth: w}).then(data => {\n        //     console.log(data)\n        //     this.ctx.drawImage(data, x, y)\n        // })\n        this.ctx.drawImage(imgData, x, y, w, h);\n\n\n        this.hitCtx.fillStyle = this.colorKey;\n        this.hitCtx.fillRect(x, y, w, h);\n\n\n        // draw HitCanvas rect\n    }\n\n    drawClusterd(scale, scale2, imgWidth, cluster) {\n        const s = 1 / scale;\n        const x = this._x;\n        const y = this._y;\n\n        this.ctx.fillStyle = 'grey';\n        this.ctx.fillRect(x, y, s, s);\n    }\n\n    drawAsActive(scale, activeImgWidth) {\n        this.scale = 1; // scale;\n\n        const imgData = this.icon; // this.hasImage ? this.image : this.icon;\n\n        /* const x = this.x;\n        const y = this.y;\n        const w = this.width; // scale / 2;\n        const h = this.height; // scale / 2 ; */\n\n        /* const w = activeImgWidth / 10;\n        const h = activeImgWidth / 10; */\n        const w = imgData.width * activeImgWidth / 1000; // TODO if image returns check if this width should be still used\n        const h = imgData.height * activeImgWidth / 1000;\n        const x = this._x - (w / 2);\n        const y = this._y - (h / 2);\n\n\n        if (this.isActive) {\n            // console.log(`Active node while draw: ${this.name}}`);\n            // console.log(this);\n            this.ctx.globalAlpha = 1;\n\n            this.ctx.drawImage(imgData, x, y, w, h);\n            this.ctx.globalAlpha = 0.3;\n            // ctx.rect(this.x,this.y, this.width/scale,this.height/scale);\n            // ctx.stroke();\n        } else if (this.isActiveNeighbour) {\n            // console.log(`Neighbour node while draw: ${this.name}}`);\n            // console.log(this);\n            this.ctx.globalAlpha = 1;\n            this.ctx.drawImage(imgData, x, y, w, h);\n            this.ctx.globalAlpha = 0.3;\n        }\n        // draw HitCanvas rect\n        this.hitCtx.fillStyle = this.colorKey;\n        this.hitCtx.fillRect(x, y, w, h);\n    }\n\n    drawAsNeighbour(scale, activeImgWidth, value) {\n        this.scale = 1; // scale;\n\n        const imgData = this.icon; // this.hasImage ? this.image : this.icon;\n\n        /* const x = this.x;\n        const y = this.y;\n        const w = this.width; // scale / 2;\n        const h = this.height; // scale / 2 ; */\n\n        /* const w = (activeImgWidth / 10) * this.value;\n        const h = (activeImgWidth / 10) * this.value; */\n        const w = imgData.width * activeImgWidth / 1000 * this.value; // TODO if image returns check if this width should be still used\n        const h = imgData.height * activeImgWidth / 1000 * this.value;\n        const x = this._x - (w / 2);\n        const y = this._y - (h / 2);\n\n\n        this.ctx.globalAlpha = 1;\n        this.ctx.drawImage(imgData, x, y, w, h);\n        this.ctx.globalAlpha = 0.3;\n\n        // draw HitCanvas rect\n        this.hitCtx.fillStyle = this.colorKey;\n        this.hitCtx.fillRect(x, y, w, h);\n    }\n\n\n    drawBorder(scale, imgWidth, activeImgWidth, cluster, borderWidth, labelColor) {\n        /* const x = this.x;\n        const y = this.y;\n        const w = this.width; // scale;\n        const h = this.height; // scale;\n        */\n\n        const w = this.icon.width * (\n            this.isActive\n                ? activeImgWidth\n                : this.isActiveNeighbour\n                    ? activeImgWidth * this.value\n                    : imgWidth\n        ) / 1000;\n        const h = this.icon.height * (\n            this.isActive\n                ? activeImgWidth\n                : this.isActiveNeighbour\n                    ? activeImgWidth * this.value\n                    : imgWidth\n        ) / 1000;\n        /* const w = (this.isActive ? activeImgWidth : this.isActiveNeighbour ? activeImgWidth * this.value : imgWidth) / 10;\n        const h = (this.isActive ? activeImgWidth : this.isActiveNeighbour ? activeImgWidth * this.value : imgWidth) / 10; */\n        const x = this._x - (w / 2);\n        const y = this._y - (h / 2);\n\n        const lineWidth = borderWidth / 10 / scale;\n        this.ctx.strokeStyle = labelColor || this.color;\n        this.ctx.lineWidth = lineWidth;\n\n\n        if ((this.cluster < cluster) || this.isActive || this.isActiveNeighbour) {\n            // cluster represent\n            if (lineWidth) this.ctx.strokeRect(x, y, w, h);\n        } else {\n            if (lineWidth) this.ctx.strokeRect(x, y, w / scale, h / scale);\n            this.hitCtx.fillStyle = this.colorKey;\n            this.hitCtx.fillRect(x, y, w / scale, h / scale);\n        }\n    }\n\n\n    // unused cause of non-math method for findNodeUnderMouse\n    /* contains(x, y, scale) {\n        // All we have to do is make sure the Mouse X,Y fall in the area between\n        // the Node X and (X + Width) and its Y and (Y + Height)\n        const w = this.width / scale;\n        const h = this.height / scale;\n\n        // const contains = (x >= this.x) && (x <= this.x + w) && (y >= this.y) && (y <= this.y + h);\n        return (x >= this.x) && (x <= this.x + w) && (y >= this.y) && (y <= this.y + h);\n        // console.log(contains);\n        // console.log(this);\n        // console.log({ mx, my, x, y, w, h });\n\n\n        // return contains;\n    } */\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/Node.js","export const TSNE = 'tsne';\nexport const NEIGHBOURS = 'neighbours';\nexport const TRIPLETS = 'triplets';\nexport const CLASSIFIER = 'classifier';\nexport const SVM = 'svm';\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/modes.js","import range from './range';\nimport { SVM } from './modes';\n\nexport default class CanvasState {\n    constructor(canvas, hitCanvas, socket, ui) {\n        this.socket = socket;\n\n        this.ui = ui;\n\n        this.canvas = canvas;\n        this.ctx = canvas.getContext('2d');\n        this.width = canvas.width;\n        this.height = canvas.height;\n\n        this.hitCanvas = hitCanvas;\n        this.hitCtx = hitCanvas.getContext('2d');\n\n        // **** Keep track of state! ****\n        this.kdtree = {};\n\n\n        this.valid = false; // when set to false, the canvas will redraw everything\n        this._valid = false;\n        this.nodes = {}; // hash for all nodes\n        this.colorHash = {}; // find nodes by color\n        this.dragging = false; // Keep track of when we are dragging\n        this.draggNode = false; // save the node for dragging\n\n        // the current selected object. TODO  In the future we could turn this into an array for multiple selection\n        this.selection = null;\n        this.nodeUnderMouse = null;\n\n        // K labels for development\n        this.showKLabels = false;\n        this.selectedLabel = null; // the choosen label for highlighten images\n        this.labelColor = null; // updatet throud ui\n\n        this.activeMode = false; // freeze for handling selection\n        this.activeNode = false; // node while freeze\n\n        this.scissors = false;\n        this.drawScissors = false;\n        this.scissorsStartX = 0;\n        this.scissorsStartY = 0;\n\n        this.scissorsEndX = 0;\n        this.scissorsEndY = 0;\n\n        this._cluster = 500;\n        this.updateClusterUI = null;\n        this._scale = 20;\n        this._scale2 = 20;\n        this.updateScaleUI = null;\n        this.updateScale2UI = null;\n        this._imgScale = 12;\n        this._activeImgScale = 5;\n        this._borderWidth = 5;\n\n        this._scrollGrowth = 1.3;\n        this._scrollImgGrowth = 1.1;\n        this._clusterGrowth = 1.2;\n\n        this.interval = 100;\n\n        this.offsetLeft = canvas.getBoundingClientRect().left;\n        this.offsetTop = canvas.getBoundingClientRect().top;\n\n        this.translateX = this.width / 2;\n        this.translateY = this.height / 2;\n\n        this.startX = null;\n        this.startY = null;\n        // this.ctx.translate(this.translateX / 2, this.translateY / 2);\n        // this.ctx.scale(this.scale, this.scale);\n\n\n        // add event listener\n        this.canvas.onmousedown = this.handleMouseDown;\n        this.canvas.onmousemove = this.handleMouseMove;\n        this.canvas.onmouseup = this.handleMouseUp;\n        this.canvas.ondblclick = this.handleDoubleClick;\n        this.canvas.onwheel = this.zoom;\n        // this.canvas.onblur = this.blur;\n        // this.timerId = setInterval(() => this.draw(), this.interval);\n    }\n\n    set scale(value) {\n        if (value < 1) this._scale = 1;\n        else this._scale = value;\n        this.valid = false;\n        this.updateScaleUI(this.scale);\n    }\n\n    get scale() {\n        return this._scale;\n    }\n\n    set scale2(value) {\n        if (value < 1) this._scale = 1;\n        else this._scale2 = value;\n        this.valid = false;\n        this.updateScale2UI(this.scale2);\n    }\n\n    get scale2() {\n        return this._scale2;\n    }\n\n    set imgScale(value) {\n        if (value < 1) this._imgScale = 1;\n        else this._imgScale = value;\n        this.valid = false;\n    }\n\n    get imgScale() {\n        return this._imgScale;\n    }\n\n    set activeImgScale(value) {\n        if (value < 1) this._activeImgScale = 1;\n        else this._activeImgScale = value;\n        this.valid = false;\n    }\n\n    get activeImgScale() {\n        return this._activeImgScale;\n    }\n\n    set borderWidth(value) {\n        if (value < 0) this._borderWidth = 0;\n        else this._borderWidth = value;\n        this.valid = false;\n    }\n\n    get borderWidth() {\n        return this._borderWidth;\n    }\n\n    set cluster(value) {\n        // console.log(this._cluster);\n        if (value < 1) this._cluster = 1;\n        else this._cluster = value;\n        this.valid = false;\n        this.ui.cluster = this.cluster;\n    }\n\n    get cluster() {\n        return this._cluster;\n    }\n\n    set scrollGrowth(v) {\n        if (v <= 1) this._scrollGrowth = 1.01;\n        else this._scrollGrowth = v;\n    }\n\n    get scrollGrowth() {\n        return this._scrollGrowth;\n    }\n\n    set scrollImgGrowth(v) {\n        if (v <= 1) this._scrollImgGrowth = 1.01;\n        else this._scrollImgGrowth = v;\n    }\n\n    get scrollImgGrowth() {\n        return this._scrollImgGrowth;\n    }\n\n    get clusterGrowth() {\n        return this._clusterGrowth;\n    }\n\n    set clusterGrowth(v) {\n        if (v <= 1) this._clusterGrowth = 1.01;\n        else this._clusterGrowth = v;\n        this.ui.clusterGrowth = this.clusterGrowth;\n    }\n\n    set valid(v) {\n        if (!v) window.requestAnimationFrame(this.draw);\n        this._valid = v;\n    }\n\n    get valid() {\n        return this._valid;\n    }\n\n    triggerDraw = () => {\n        this.valid = false;\n    }\n\n\n    addNode = (node) => {\n        // console.log('Node addded');\n        this.nodes[node.index] = node;\n        this.colorHash[node.colorKey] = node.index;\n        this.valid = false; // for redrawing\n    }\n\n    getNodes() {\n        this.removeSelection(); // for updating values in links before sending\n        return this.nodes;\n    }\n\n    getNode(i) {\n        return this.nodes[i];\n    }\n\n\n    range(minX, minY, maxX, maxY) {\n        // TODO min x, max should be automatic\n        const result = range(this.kdtree.ids, this.kdtree.coords, minX, minY, maxX, maxY, this.kdtree.nodeSize); // TODO is this fast?\n        console.log('range');\n        console.log(result);\n    }\n\n    resetStore() {\n        this.nodes = {};\n        this.colorHash = {};\n        this.valid = false;\n    }\n\n    clear() {\n        // move point 0,0 to middle of canvas\n        this.ctx.resetTransform();\n        this.ctx.clearRect(0, 0, this.width, this.height);\n        this.ctx.translate(this.translateX, this.translateY);\n        this.ctx.scale(this.scale, this.scale);\n\n        // same on hit ctx\n        this.hitCtx.resetTransform();\n        this.hitCtx.clearRect(0, 0, this.width, this.height);\n        this.hitCtx.translate(this.translateX, this.translateY);\n        this.hitCtx.scale(this.scale, this.scale);\n    }\n\n    draw = () => {\n        // if our state is invalid, redraw and validate!\n        if (!this.valid) {\n            console.log('reDraw started');\n            // const nodes = this.nodes;\n            this.clear();\n\n            // ** Add stuff you want drawn in the background all the time here **\n\n\n            // if some nodes are active set other transparent\n            // if (this.selection) this.ctx.globalAlpha = 0.3;\n            // else this.ctx.globalAlpha = 1;\n\n            // draw images\n            Object.values(this.nodes).forEach((node) => {\n                // if (node.isActive) node.drawAsActive(this.scale, this.activeImgScale, this.cluster);\n                // else if (node.isActiveNeighbour) node.drawAsNeighbour(this.scale, this.activeImgScale, this.cluster);\n                // else\n\n                // if node is clustered dont draw and draw pixel instead\n                if (this.cluster < node.cluster) {\n                    node.drawClusterd(this.scale, this.scale2, this.imgScale, this.cluster);\n                } else node.draw(this.scale, this.scale2, this.imgScale, this.cluster);\n            });\n\n            if (this.showKLabels) {\n                // draw borders\n                Object.values(this.nodes).forEach((node) => {\n                    node.drawBorder(this.scale, this.imgScale, this.activeImgScale, this.cluster, this.borderWidth);\n                });\n            } else if (this.selectedLabel) {\n                Object.values(this.nodes).forEach((node) => {\n                    if (node.labels.indexOf(this.selectedLabel) !== -1) {\n                        node.drawBorder(this.scale, this.imgScale, this.activeImgScale, this.cluster, this.borderWidth, this.labelColor);\n                    }\n                });\n            }\n\n            if (this.drawScissors) {\n                const x = (this.scissorsStartX - this.translateX) / this.scale;\n                const y = (this.scissorsStartY - this.translateY) / this.scale;\n                const w = (this.scissorsEndX - this.scissorsStartX) / this.scale;\n                const h = (this.scissorsEndY - this.scissorsStartY) / this.scale;\n\n                this.ctx.strokeStyle = '#3882ff';\n                this.ctx.lineWidth = 2 / this.scale;\n\n                this.ctx.strokeRect(x, y, w, h);\n                this.ctx.globalAlpha = 0.2;\n                this.ctx.fillRect(x, y, w, h);\n                this.ctx.globalAlpha = 1.0;\n            }\n\n            // draw Tribles\n\n\n            /*\n            if (this.activeMode) {\n                ctx.globalAlpha = 0.1;\n                Object.values(this.nodes).map((node) => {\n                    // TODO skip the drawing of elements that have moved off the screen:\n                    if (node.isActive || node.isActiveNeighbour) ctx.globalAlpha = 1;\n                    node.draw(ctx, this.scale);\n                    if (node.isActive || node.isActiveNeighbour) ctx.globalAlpha = 0.1;\n                });\n            } else {\n                ctx.globalAlpha = 1;\n\n            }\n\n            // enlarge coordinates\n            // draw all nodes\n            Object.values(this.nodes).map((node) => {\n                // We can skip the drawing of elements that have moved off the screen:\n                // TODO handle elements offside the screen\n\n                if (node.isActive || node.isActiveNeighbour) ctx.globalAlpha = 1;\n                node.draw(ctx, this.scale);\n                if (node.isActive || node.isActiveNeighbour) ctx.globalAlpha = 1;\n            });\n*/\n            // ** Add stuff you want drawn on top all the time here **\n\n\n            this.valid = true;\n        }\n    }\n\n    zoom = (wheelEvent) => {\n        console.log('zoom event');\n        wheelEvent.preventDefault();\n        wheelEvent.stopPropagation();\n        // console.log(wheelEvent)\n        const nodeUnderMouse = this.findNodeByMousePosition(wheelEvent.offsetX, wheelEvent.offsetY);\n\n        if (this.selection && nodeUnderMouse && nodeUnderMouse.isActiveNeighbour) {\n            console.log('nodeUnderMouse');\n            console.log(nodeUnderMouse.name);\n\n            if (wheelEvent.deltaY < 0) {\n                console.log('zoom in - image smaller');\n                nodeUnderMouse.value -= 0.1;\n            }\n\n            // Zoom out = decrease = wheel down = positiv delta Y\n            if (wheelEvent.deltaY > 0) {\n                console.log('zoom out - image bigger');\n                nodeUnderMouse.value += 0.1;\n            }\n\n            this.valid = false;\n        } else {\n            const mouseX = wheelEvent.offsetX;\n            const mouseY = wheelEvent.offsetY;\n            // get mouse movement based on the last triggered event\n            const offsetX = (mouseX - this.translateX) / this.scale; // +80 means move 80px to right\n            const offsetY = (mouseY - this.translateY) / this.scale; // -50 means move 50 to top\n            // console.log({ moveX, moveY });\n\n            // console.log(\"mouse position\")\n            // console.log({mouseX, mouseY})\n            // console.log(\"Offset - distanz to null point \")\n            // console.log({offsetX, offsetY})\n            // console.log(\"nullpoint position\")\n            // console.log(this.translateX, this.translateY)\n\n\n            const oldScale = this.scale;\n\n            // Zoom in = increase = wheel up = negativ delta Y\n            if (wheelEvent.deltaY < 0) {\n                console.log('zoom in');\n\n                this.scale *= this.scrollGrowth;\n                this.scale2 *= this.scrollImgGrowth;\n                this.cluster *= this.clusterGrowth;\n            }\n\n            // Zoom out = decrease = wheel down = positiv delta Y\n            if (wheelEvent.deltaY > 0) {\n                console.log('zoom out');\n\n                this.scale /= this.scrollGrowth;\n                this.scale2 /= this.scrollImgGrowth;\n                this.cluster /= this.clusterGrowth;\n            }\n            const scaleChange = this.scale - oldScale;\n            this.translateX -= offsetX * scaleChange;\n            this.translateY -= offsetY * scaleChange;\n\n            this.valid = false;\n        }\n\n        // console.log(this.scale);\n        // this.ctx.scale(this.scale, this.scale);\n        return false;\n    }\n\n    findNodeByMousePosition(x, y) {\n        // old math way\n        /* // find 'first' node under click\n        // slice makes copy of array\n        // translate X/Y to node x/y\n        const nodeX = (x - this.translateX) / this.scale;\n        const nodeY = (y - this.translateY) / this.scale;\n        return Object.values(this.nodes).slice(0).reverse().find(\n            node => node.contains(nodeX, nodeY, this.scale),\n        ); */\n        const pixel = this.hitCtx.getImageData(x, y, 1, 1).data;\n        const color = `rgb(${pixel[0]},${pixel[1]},${pixel[2]})`;\n        const nodeId = this.colorHash[color];\n        if (nodeId >= 0) {\n            return this.nodes[nodeId];\n        } return null;\n    }\n\n    selectNode(node) {\n        // delete old node\n        if (this.selection && this.selection !== node) this.removeSelection();\n        this.selection = node;\n        console.log('selected Node');\n        console.log(node);\n        // const activeNode = this.selection;\n        // mark node as active\n        this.selection.isActive = true;\n\n        // load detail image\n        /* if (!node.hasImage) {\n            console.log('request image');\n            socket.emit('requestImage', node.name);\n        } */\n\n        // mark neighbours\n        Object.entries(node.links).forEach(([index, strength]) => {\n            // console.log(n.target);\n            const neighbour = this.nodes[index];\n\n            if (neighbour) {\n                // mark as neighbour of a active note\n                neighbour.isActiveNeighbour = true;\n                // set value from links to nodes\n                neighbour.value = strength;\n                // load neighbours detailed image\n                // if (!this.nodes[n.target].hasImage) socket.emit('requestImage', { name: this.nodes[n.target].name, index: this.nodes[n.target].index });\n\n                // console.error(`FOUND Neighbours ID: ${n.target} Name: ${this.nodes[n.target].name} Value: ${n.value} isActive ${this.nodes[n.target].isActiveNeighbour}`);\n            } else {\n                // TODO proper error handling - inform Katja that there is a link to a node that is not existing\n                // console.error(`Neighbours ID: ${index} is not a not found in nodes`);\n                // console.log(node)\n            }\n        });\n\n        this.triggerDraw();\n    }\n\n    removeSelection() {\n        const selectedNode = this.selection;\n\n        // this.updateSelectionUI(false);\n\n        // mark the neighbours as not active\n        if (selectedNode) {\n            // console.log(\"remove selection\")\n            // console.log(this.selection)\n\n            // deactivated selected node\n            selectedNode.isActive = false;\n\n            // deactivated all neighbours\n            Object.keys(selectedNode.links).forEach((index) => {\n                const neighbour = this.nodes[index];\n\n                if (neighbour) {\n                    neighbour.isActiveNeighbour = false;\n                    // update (new) values in links\n                    selectedNode.links[index] = neighbour.value;\n                    // n.value = neighbour.value;\n                } else {\n                    // TODO proper error handling - inform Katja that there is a link to a node that is not existing\n                    // console.error(`Neighbours ID: ${index} is not a not found in nodes`);\n                }\n            });\n        }\n        // remove selection\n        this.selection = null;\n        this.valid = false; // redraw\n    }\n\n    handleMouseDown = (e) => {\n        // tell the browser we're handling this mouse event\n        e.preventDefault();\n        e.stopPropagation();\n        // console.log(e)\n\n        // console.log(this.hitCanvas.width);\n        // console.log(this.hitCtx.width);\n        // console.log(this.canvas.width);\n        // console.log(this.ctx.width);\n        const shiftKeyPressed = e.shiftKey;\n\n        const ctrlKeyPressed = e.ctrlKey;\n        const altKeyPressed = e.altKey;\n\n        const nodeUnderMouse = this.findNodeByMousePosition(e.offsetX, e.offsetY);\n        // saving node under mouse while mouseDown\n        this.nodeUnderMouse = nodeUnderMouse;\n\n        // TODO test if mouse hits Image and set their drag flag\n\n        console.log('mousedown');\n        // console.log(e.offsetX);\n        // console.log(e.offsetY);\n\n\n        // save start position\n        this.startX = e.offsetX;\n        this.startY = e.offsetY;\n\n\n        // if there is no mouse under mouse then move everything\n        if (nodeUnderMouse) {\n            this.draggNode = nodeUnderMouse;\n            // freeze = activation Mode\n            if (this.activeMode) {\n                if (false) {\n                    // remove neighbour\n                    if (nodeUnderMouse.isActiveNeighbour) {\n                        nodeUnderMouse.isActiveNeighbour = false;\n                        // this.selection.neighbours = this.selection.neighbours.filter(item => item.target !== nodeUnderMouse.index);\n                        delete this.selection.links[nodeUnderMouse.index]; // remove link\n                        this.valid = false;\n                    }\n                    // add neighbour if node is is not active node\n                    else if (this.selection !== nodeUnderMouse) {\n                        // nodeUnderMouse.v = 5\n                        // this.selection.neighbours.push({ target: nodeUnderMouse.index, value: 0.5 });\n                        this.selection.links[nodeUnderMouse.index] = 0.5;\n                        nodeUnderMouse.isActiveNeighbour = true;\n                        nodeUnderMouse.value = 0.5;\n                        this.valid = false;\n                    }\n                } else if (ctrlKeyPressed) {\n                    // add to left /negatives\n                    this.activeNode.negatives.push(nodeUnderMouse);\n                } else if (altKeyPressed || shiftKeyPressed) {\n                    // add to right // positives\n                    this.activeNode.positives.push(nodeUnderMouse);\n                }\n            }\n        } else if (this.scissors) {\n            console.log('Scissors');\n            // save start X/Y\n            this.drawScissors = true;\n            this.scissorsStartX = this.startX;\n            this.scissorsStartY = this.startY;\n            this.valid = false;\n        } else {\n            // if nothing is clicked\n            this.dragging = true;\n        }\n    }\n\n\n    handleMouseMove = (e) => {\n        // other way for getting x/y\n        /* const mousePos = {\n            x: e.clientX - canvas.offsetLeft,\n            y: e.clientY - canvas.offsetTop\n        }; */\n\n        const mouseX = e.offsetX;\n        const mouseY = e.offsetY;\n\n        if (this.scissors) {\n            this.scissorsEndX = mouseX;\n            this.scissorsEndY = mouseY;\n            this.valid = false;\n        }\n\n\n        // there is a freeze and not freeze mode - different interaction based ob if a node is active or node\n        const nodeUnderMouse = this.findNodeByMousePosition(mouseX, mouseY);\n\n        // load high resoultion image\n        if (nodeUnderMouse && !nodeUnderMouse.hasImage) this.socket.emit('requestImage', { name: nodeUnderMouse.name, index: nodeUnderMouse.index });\n\n        if (!this.activeMode) {\n            if (nodeUnderMouse) this.ui.activeNode = nodeUnderMouse;\n            else this.ui.activeNode = false;\n        }\n\n\n        if (this.draggNode || this.dragging) {\n            // get mouse movement based on the last triggered event\n            const moveX = mouseX - this.startX; // +80 means move 80px to right\n            const moveY = mouseY - this.startY; // -50 means move 50 to top\n            // console.log({ moveX, moveY });\n\n            // save new mouse position for next event\n            this.startX = mouseX;\n            this.startY = mouseY;\n\n            if (this.dragging) {\n                // move the x/y\n                this.translateX += moveX;\n                this.translateY += moveY;\n            } else if (this.draggNode) {\n                // scale the X/Y\n                const nodeX = moveX / this.scale;\n                const nodeY = moveY / this.scale;\n\n                this.draggNode.move(nodeX, nodeY);\n\n                // drag neighbours in freeze mode\n                if (this.activeMode && this.draggNode.isActive) {\n                    Object.keys(this.draggNode.links).forEach((i) => {\n                        const neighbour = this.nodes[i];\n                        // todo error handling if the neighbour is not existing for katja\n                        if (neighbour) neighbour.move(nodeX * neighbour.value, nodeY * neighbour.value);\n                    });\n                }\n            }\n            this.triggerDraw();\n        } else if (!this.activeMode) {\n            // mouse moves over empty area after being over a node\n            if (!nodeUnderMouse && this.selection) this.removeSelection();\n            // mouse over picture and no picture before\n            else if (!this.selection && nodeUnderMouse) this.selectNode(nodeUnderMouse);\n            // mouse over picture but not the is allread selected = new picture selected\n            else if (nodeUnderMouse && nodeUnderMouse !== this.selection) {\n                this.removeSelection();\n                this.selectNode(nodeUnderMouse);\n            }\n        }\n        /*\n        // move neighbours of active Node in freeze mode\n        if (this.activeMode && this.draggNode.isActive) {\n\n            // mouse is over a neighbour\n            if (this.dragging.isActive || this.dragging.isActiveNeighbour) {\n                // drag the node and al of his neighbour\n                // TODO later the 'moving weighted with values# should be toggled with a button\n\n\n                // console.log({ nodeX, nodeY });\n\n                // change the Node position\n                this.dragging.move(nodeX, nodeY);\n                // console.log(this.dragging)\n                if (this.dragging.isActive) {\n                    // change position of neighbours\n                    /!*this.dragging.neighbours.forEach((n) => {\n                        const neighbour = this.nodes[n.target];\n                        // todo their should not be a case where n.target is outside the array\n                        if (neighbour) {\n                            neighbour.move(nodeX * neighbour.value, nodeY * neighbour.value);\n                        }\n                    });*!/\n\n                }\n\n                this.valid = false;\n            }\n        } else if (this.dragging === true) {\n           /!* console.log('dragging');\n            const moveX = e.offsetX - this.startX; // +80 means move 80px to right\n            const moveY = e.offsetY - this.startY; // -50 means move 50 to top\n            // console.log({ moveX, moveY });\n            this.startX = e.offsetX;\n            this.startY = e.offsetY;\n\n\n            // start drawing\n            this.valid = false;*!/\n        } else\n\n        // mouse over empty area */\n    }\n\n    handleMouseUp = (e) => {\n        console.log('mouseup');\n        const nodeUnderMouse = this.findNodeByMousePosition(e.offsetX, e.offsetY);\n        if (nodeUnderMouse === this.nodeUnderMouse) {\n            // click event on a special node - do something\n            this.ui.clickedNode = nodeUnderMouse;\n            console.log('click on node');\n            switch (this.ui.$route.name) {\n            case SVM:\n                break;\n            default:\n                console.log('no mode selected - what to do with a node click now?');\n            }\n        }\n\n\n        this.dragging = false;\n        this.draggNode = false;\n\n        if (this.scissors) {\n            this.ui.cuttedNodes = [];\n            const startX = (this.scissorsStartX - this.translateX) / this.scale;\n            const startY = (this.scissorsStartY - this.translateY) / this.scale;\n            const endX = (this.scissorsEndX - this.translateX) / this.scale;\n            const endY = (this.scissorsEndY - this.translateY) / this.scale;\n            // console.log({startX, startY})\n            // console.log({endX, endY})\n            Object.values(this.nodes).forEach((node) => {\n                // console.log(node)\n                // check for all nodes if they are inside the rectangle\n                if ((node.x > startX && node.x < endX) || (node.x < startX && node.x > endX)) {\n                    if ((node.y < startY && node.y > endY) || (node.y > startY && node.y < endY)) {\n                        this.ui.cuttedNodes.push(node);\n                    }\n                }\n            });\n\n            // reset\n            this.scissors = false;\n            this.ui.scissors = false;\n            this.drawScissors = false;\n            this.valid = false;\n            // TODO handle object in scissors rectangle\n        }\n    }\n\n\n    handleDoubleClick = () => {\n        console.log('Double click');\n\n        if (this.selection && !this.activeMode) {\n            this.activeMode = true;\n            this.ui.activeNode = this.activeNode;\n            // this.activeNode = this.selection;\n            // update ui\n        } else if (this.activeMode) {\n            this.ui.activeNode = false;\n            this.activeNode = false;\n            // this.activeMode = false;\n        }\n        this.triggerDraw();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/CanvasState.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"800\",\"step\":\"10\"},domProps:{\"value\":_vm.value}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f9d6ee5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/RangeSlider.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f9d6ee5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RangeSlider.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RangeSlider.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RangeSlider.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f9d6ee5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RangeSlider.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f9d6ee5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RangeSlider.vue\n// module id = null\n// module chunks = ","<template>\n    <input type=\"range\" min=\"0\" max=\"800\" step=\"10\" :value=\"value\"/>\n</template>\n\n<script>\nexport default {\n    name: 'range-slider',\n\n    props: ['value', 'change', 'input', 'slide'],\n};\n</script>\n\n<style scoped>\n    input[type=range] {\n        -webkit-appearance: none;\n        width: 100%;\n        margin: 6.05px 0;\n    }\n    input[type=range]:focus {\n        outline: none;\n    }\n    input[type=range]::-webkit-slider-runnable-track {\n        width: 100%;\n        height: 10.9px;\n        cursor: pointer;\n        box-shadow: 1.5px 1.5px 5px rgba(104, 114, 229, 0.5), 0px 0px 1.5px rgba(126, 134, 233, 0.5);\n        background: #ffffff;\n        border-radius: 25px;\n        border: 0.6px solid #6772e5;\n    }\n    input[type=range]::-webkit-slider-thumb {\n        box-shadow: 0px 0px 12.3px rgba(103, 114, 229, 0.48), 0px 0px 0px rgba(125, 134, 233, 0.48);\n        border: 2.5px solid #ffffff;\n        height: 23px;\n        width: 23px;\n        border-radius: 12px;\n        background: #6772e5;\n        cursor: pointer;\n        -webkit-appearance: none;\n        margin-top: -6.65px;\n    }\n    input[type=range]:focus::-webkit-slider-runnable-track {\n        background: #ffffff;\n    }\n    input[type=range]::-moz-range-track {\n        width: 100%;\n        height: 10.9px;\n        cursor: pointer;\n        box-shadow: 1.5px 1.5px 5px rgba(104, 114, 229, 0.5), 0px 0px 1.5px rgba(126, 134, 233, 0.5);\n        background: #ffffff;\n        border-radius: 25px;\n        border: 0.6px solid #6772e5;\n    }\n    input[type=range]::-moz-range-thumb {\n        box-shadow: 0px 0px 12.3px rgba(103, 114, 229, 0.48), 0px 0px 0px rgba(125, 134, 233, 0.48);\n        border: 2.5px solid #ffffff;\n        height: 23px;\n        width: 23px;\n        border-radius: 12px;\n        background: #6772e5;\n        cursor: pointer;\n    }\n    input[type=range]::-ms-track {\n        width: 100%;\n        height: 10.9px;\n        cursor: pointer;\n        background: transparent;\n        border-color: transparent;\n        color: transparent;\n    }\n    input[type=range]::-ms-fill-lower {\n        background: #f0f0f0;\n        border: 0.6px solid #6772e5;\n        border-radius: 50px;\n        box-shadow: 1.5px 1.5px 5px rgba(104, 114, 229, 0.5), 0px 0px 1.5px rgba(126, 134, 233, 0.5);\n    }\n    input[type=range]::-ms-fill-upper {\n        background: #ffffff;\n        border: 0.6px solid #6772e5;\n        border-radius: 50px;\n        box-shadow: 1.5px 1.5px 5px rgba(104, 114, 229, 0.5), 0px 0px 1.5px rgba(126, 134, 233, 0.5);\n    }\n    input[type=range]::-ms-thumb {\n        box-shadow: 0px 0px 12.3px rgba(103, 114, 229, 0.48), 0px 0px 0px rgba(125, 134, 233, 0.48);\n        border: 2.5px solid #ffffff;\n        height: 23px;\n        width: 23px;\n        border-radius: 12px;\n        background: #6772e5;\n        cursor: pointer;\n        height: 10.9px;\n    }\n    input[type=range]:focus::-ms-fill-lower {\n        background: #ffffff;\n    }\n    input[type=range]:focus::-ms-fill-upper {\n        background: #ffffff;\n    }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/RangeSlider.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"triblet-area\"},[(_vm.node.negatives)?_c('div',{staticClass:\"negatives area\",class:{redActive: _vm.redActive},on:{\"click\":_vm.toogleRed}},[(_vm.node.negatives)?_vm._l((_vm.node.negatives),function(n,i){return _c('div',{staticClass:\"image\"},[_c('img',{key:i,attrs:{\"src\":n.icon.src,\"alt\":\"\"},on:{\"click\":function($event){_vm.removeNegativ(i)}}})])}):_vm._e()],2):_vm._e(),_vm._v(\" \"),(_vm.node.icon)?_c('div',{staticClass:\"node\"},[(_vm.node.icon)?[_c('img',{attrs:{\"src\":_vm.node.icon.src,\"alt\":\"\"}})]:_vm._e()],2):_vm._e(),_vm._v(\" \"),(_vm.node.positives)?_c('div',{staticClass:\"positives area\",class:{greenActive: _vm.greenActive},on:{\"click\":_vm.toogleBlue}},[(_vm.node.positives)?_vm._l((_vm.node.positives),function(n,i){return _c('div',{staticClass:\"image\"},[_c('img',{key:i,attrs:{\"src\":n.icon.src,\"alt\":\"\"},on:{\"click\":function($event){_vm.removePositiv(i)}}})])}):_vm._e()],2):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14203830\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Triplets.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14203830\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Triplets.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Triplets.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Triplets.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14203830\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Triplets.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-14203830\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Triplets.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"triblet-area\">\n\n        <div v-if=\"node.negatives\" class=\"negatives area\" :class=\"{redActive}\" @click=\"toogleRed\">\n            <template v-if=\"node.negatives\">\n                <div class=\"image\" v-for=\"(n, i) in node.negatives\">\n                    <img\n                        :key=\"i\"\n                        :src=\"n.icon.src\"\n                        alt=\"\"\n                        @click=\"removeNegativ(i)\"\n                    >\n                </div>\n            </template>\n        </div>\n        <div v-if=\"node.icon\" class=\"node\">\n            <template v-if=\"node.icon\">\n                <img :src=\"node.icon.src\" alt=\"\">\n            </template>\n        </div>\n\n        <div v-if=\"node.positives\" class=\"positives area\" :class=\"{greenActive}\" @click=\"toogleBlue\">\n            <template v-if=\"node.positives\">\n                <div class=\"image\" v-for=\"(n, i) in node.positives\">\n                    <img\n                        :key=\"i\"\n                        :src=\"n.icon.src\"\n                        alt=\"\"\n                        @click=\"removePositiv(i)\"\n                    >\n                </div>\n            </template>\n        </div>\n    </div>\n</template>\n\n<script>\n\n/*\n    user clicks on area and can then add items\n    TODO: if the user click somewhere else toogle all to false\n    TODO: delete selection in trible\n    TODO: sizing images in triple\n\n\n */\n\nexport default {\n    name: 'triplets',\n    props: ['node', 'positives', 'negatives'],\n    data: () => ({\n        redActive: false,\n        greenActive: false,\n    }),\n    methods: {\n        toogleRed() {\n            if (!this.redActive && this.greenActive) this.greenActive = false;\n            this.redActive = !this.redActive;\n        },\n        toogleBlue() {\n            if (!this.greenActive && this.redActive) this.redActive = false;\n            this.greenActive = !this.greenActive;\n        },\n        removePositiv(i) {\n            this.node.positives.splice(i, 1);\n        },\n        removeNegativ(i) {\n            this.node.negatives.splice(i, 1);\n        },\n    },\n};\n</script>\n\n<style scoped>\n\n    .triblet-area{\n        /*width: 100%;*/\n        height: 10rem;\n\n        display: flex;\n        background-color: white;\n\n        padding: 5px;\n    }\n\n    .node {\n        /*width: 5rem;*/\n        margin: 0 5px;\n        flex: 1;\n\n        border: 1px solid rgba(146, 144, 142, 0.5);\n        border-radius: 15px;\n        background-color: rgba(91, 88, 82, 0.1);\n    }\n\n    img {\n        height: 100%;\n        width: 100%;\n\n        object-fit: scale-down;\n    }\n\n    .redActive, .greenActive {\n        //border-width: 3px !important;\n        //margin: 0 !important;\n    }\n    .area {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-flow: wrap;\n        flex-direction: row;\n        flex: 5;\n        /*margin: 2px;*/\n    }\n\n    .positives {\n        border: 1px solid rgba(0, 255, 10, 0.5);\n        border-radius: 15px;\n        background-color: rgba(0, 255, 10, 0.1);\n    }\n\n    .negatives {\n        border: 1px solid rgba(255, 59, 20, 0.5);\n        border-radius: 15px;\n        background-color: rgba(255, 59, 20, 0.1);\n    }\n\n    .image {\n        width: 4rem;\n        height: 4rem;\n        display: flex;\n        justify-content: center;\n        align-content: center;\n        /*border: 1px solid red;*/\n\n        padding: 0.1rem;\n    }\n\n    .image :hover {\n        /*//width: 7rem;*/\n    }\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Triplets.vue","<template>\n    <div class=\"classifier\">\n        <div class=\"imgArea\">\n            <div class=\"image\" v-for=\"(n, i) in selectedNodes\" :key=\"i\">\n                <img\n                    :src=\"n.icon.src\"\n                    alt=\"\"\n                    @click=\"removeNode(i)\"\n                >\n            </div>\n        </div>\n        <div class=\"row\">\n            <input type=\"text\" v-model=\"label\" @focus=\"handleFocus\" @blur=\"handleBlur\"/>\n            <div v-if=\"showLabels\" class=\"dropdown\" @mouseenter=\"mouseOver = true\" @mouseleave=\"mouseOver = false\">\n                <div\n                    class=\"item\"\n                    v-for=\"label in labelsFiltered\"\n                    :key=\"label\"\n                    @click=\"chooseLabel(label)\"\n                >{{label}}</div>\n            </div>\n            <div @click=\"addLabel\" class=\"btn\">add</div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'classifier',\n    props: ['nodes', 'node', 'labels'],\n    data: () => ({\n        label: '',\n        showLabels: false,\n        selectedNodes: [],\n        mouseOver: false\n    }),\n    watch: {\n        node(n) {\n            this.addNode(n);\n        },\n        nodes(nodes) {\n            if (nodes) nodes.forEach(n => this.addNode(n));\n        },\n    },\n    methods: {\n        addNode(n) {\n            if (n && this.selectedNodes.indexOf(n) === -1) this.selectedNodes.push(n)\n        },\n        removeNode(i) {\n            this.selectedNodes.splice(i, 1);\n        },\n        addLabel({ target }) {\n            console.log('addLabel clicked');\n            console.log(this.label);\n\n            // check if label is in list of labels allready?\n            if (this.labels.indexOf(this.label) === -1) this.labels.push(this.label);\n\n            // ad label to nodes after checking that is npot allready used at node\n            this.selectedNodes.forEach((node) => {\n                if (node.labels.indexOf(this.label) === -1) node.labels.push(this.label);\n            });\n\n            // reset input/label\n            this.label = '';\n\n            this.showLabels = false;\n        },\n        handleFocus(e) {\n            console.log('input focus');\n            this.showLabels = true;\n        },\n        handleBlur(e) {\n            console.log('input blur');\n            if(!this.mouseOver) this.showLabels = false\n        },\n        chooseLabel(label) {\n            console.log(\"chooselabel\")\n            this.label = label;\n            this.showLabels = false;\n        },\n    },\n    computed: {\n        labelsFiltered() {\n            return this.labels.filter(label => label.includes(this.label));\n        },\n    },\n};\n</script>\n\n<style scoped>\n    .classifier {\n        width: 100%;\n    }\n\n    .row {\n        display: flex;\n        position: relative;\n    }\n\n    .imgArea {\n        min-height: 4rem;\n        max-height: 15rem;\n        overflow: auto;\n\n        box-shadow: 0 7px 14px rgba(50,50,93,.1), 0 3px 6px rgba(0,0,0,.08);\n        display: flex;\n        /*justify-content: center;*/\n        align-items: center;\n        flex-flow: wrap;\n        flex-direction: row;\n    }\n\n    img {\n        height: 100%;\n        width: 100%;\n        object-fit: scale-down;\n    }\n\n    .image {\n        width: 3.5rem;\n        height: 3.5rem;\n        display: flex;\n        justify-content: center;\n        align-content: center;\n        padding: 0.1rem;\n    }\n\n    .dropdown {\n        display: block;\n        position: absolute;\n        left: 0;\n        width: auto;\n\n        background-color: #fff;\n        border: 1px solid #c6c6c6;\n        border-radius: 3px;\n\n        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);\n        top: 100%;\n        z-index: 1;\n    }\n\n    .item {\n        padding: 3px;\n    }\n\n    .item:hover {\n        background-color: #5cb9ff;\n    }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Classifier.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"classifier\"},[_c('div',{staticClass:\"imgArea\"},_vm._l((_vm.selectedNodes),function(n,i){return _c('div',{key:i,staticClass:\"image\"},[_c('img',{attrs:{\"src\":n.icon.src,\"alt\":\"\"},on:{\"click\":function($event){_vm.removeNode(i)}}})])})),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.label),expression:\"label\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.label)},on:{\"focus\":_vm.handleFocus,\"blur\":_vm.handleBlur,\"input\":function($event){if($event.target.composing){ return; }_vm.label=$event.target.value}}}),_vm._v(\" \"),(_vm.showLabels)?_c('div',{staticClass:\"dropdown\",on:{\"mouseenter\":function($event){_vm.mouseOver = true},\"mouseleave\":function($event){_vm.mouseOver = false}}},_vm._l((_vm.labelsFiltered),function(label){return _c('div',{key:label,staticClass:\"item\",on:{\"click\":function($event){_vm.chooseLabel(label)}}},[_vm._v(_vm._s(label))])})):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.addLabel}},[_vm._v(\"add\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3deb89a2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Classifier.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3deb89a2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Classifier.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Classifier.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Classifier.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3deb89a2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Classifier.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3deb89a2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Classifier.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"scissors\",class:{ active: _vm.active },attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"},on:{\"click\":_vm.clickHandler}},[_c('circle',{attrs:{\"cx\":\"6\",\"cy\":\"6\",\"r\":\"3\"}}),_vm._v(\" \"),_c('circle',{attrs:{\"cx\":\"6\",\"cy\":\"18\",\"r\":\"3\"}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"20\",\"y1\":\"4\",\"x2\":\"8.12\",\"y2\":\"15.88\"}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"14.47\",\"y1\":\"14.48\",\"x2\":\"20\",\"y2\":\"20\"}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"8.12\",\"y1\":\"8.12\",\"x2\":\"12\",\"y2\":\"12\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a755806\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/icons/Scissors.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"body\">\n        <div class=\"sub-header\">\n            <div></div>\n\n\n            <!--<div>\n                <div class=\"row\">\n                    <div># {{nodesCount}}</div>\n                    <div>connected: {{connectedToSocket}}</div>\n                    &lt;!&ndash;<div @click=\"scaleUp\" class=\"btn\">+</div>\n                    <div @click=\"scaleDown\" class=\"btn\">-</div>&ndash;&gt;\n                </div>\n            </div>-->\n            <div class=\"row\">\n                <div class=\"dropdownArea\"></div>\n                <div class=\"labelsArea\" @mouseenter=\"showLabels = true\" @mouseleave=\"showLabels = false\">\n                    <div class=\"btn\">labels</div>\n                    <div class=\"labels\" v-if=\"showLabels\">\n                        <div\n                            v-for=\"(value, i) in labels\"\n                            class=\"btn\"\n                            :class=\"{ active: selectedLabel === value }\"\n                            :key=\"i\"\n                            @click=\"toogleLabel(value)\"\n                            v-bind:style=\"{'color': value}\"\n                        >\n                            {{ value }}\n                        </div>\n                        <div\n                            class=\"btn\"\n                            :class=\"{ active: showKLabels }\"\n                            @click=\"toggleShowKLabels\"\n                        >\n                            K-Label\n                        </div>\n                    </div>\n                </div>\n                <div @click=\"toggleShowOptions\" class=\"btn\" :class=\"{ active: showOptions }\">Options</div>\n                <div @click=\"sendData\" class=\"btn\" >Update Data</div>\n                <div class=\"tool-box row\">\n                    <div v-if=\"loadingNodes\" class=\"loader\" ></div>\n                    <scissors :active=\"scissors\" :clickHandler=\"selectScissors\">a</scissors>\n                </div>\n            </div>\n        </div>\n        <div class=\"row\">\n            <canvas  ref=\"canvas\" id=\"canvas\" tabindex=\"0\" ></canvas>\n            <div class=\"details\">\n                <div v-if=\"showOptions\" class=\"options info-box\">\n                    <div class=\"row-btn\">\n                        <div>Cluster: {{Math.round(cluster)}}</div>\n                        <div class=\"row\">\n                            <div @click=\"changeCluster(-100)\" class=\"btn\">-100</div>\n                            <div @click=\"changeCluster(-1000)\" class=\"btn\">-1000</div>\n                            <div @click=\"changeCluster(100)\" class=\"btn\">+100</div>\n                            <div @click=\"changeCluster(1000)\" class=\"btn\">+1000</div>\n                        </div>\n                    </div>\n                    <div class=\"row-btn\">\n                        <div>ImageWidth: {{imgWidth}}</div>\n                        <div class=\"row\">\n                            <div @click=\"changeImgWidth(-2)\" class=\"btn\">-2</div>\n                            <div @click=\"changeImgWidth(2)\" class=\"btn\">+2</div>\n                        </div>\n                    </div>\n                    <div class=\"row-btn\">\n                        <div>ImageWidth(active): {{activeImgWidth}}</div>\n                        <div class=\"row\">\n                            <div @click=\"activeImgWidthLess\" class=\"btn\">-1</div>\n                            <div @click=\"activeImgWidthMore\" class=\"btn\">+1</div>\n                        </div>\n                    </div>\n                    <div class=\"row-btn\">\n                        <div>BorderWidth: {{borderWidth}}</div>\n                        <div class=\"row\">\n                            <div @click=\"borderWidthLess\" class=\"btn\">-1</div>\n                            <div @click=\"borderWidthMore\" class=\"btn\">+1</div>\n                        </div>\n                    </div>\n                    <div class=\"row-btn\">\n                        <div>ScrollGrowth: {{scrollGrowth}}</div>\n                        <div class=\"row\">\n                            <div @click=\"changeScrollGrowth(-0.01)\" class=\"btn\">-0.1</div>\n                            <div @click=\"changeScrollGrowth(0.01)\" class=\"btn\">+0.1</div>\n                        </div>\n                    </div>\n                    <div class=\"row-btn\">\n                        <div>ScrollImgGrowth: {{scrollImgGrowth}}</div>\n                        <div class=\"row\">\n                            <div @click=\"changeScrollImgGrowth(-0.01)\" class=\"btn\">-0.1</div>\n                            <div @click=\"changeScrollImgGrowth(0.01)\" class=\"btn\">+0.1</div>\n                        </div>\n                    </div>\n                    <div class=\"row-btn\">\n                        <div>ClusterGrowth: {{clusterGrowth}}</div>\n                        <div class=\"row\">\n                            <div @click=\"changeClusterGrowth(-0.01)\" class=\"btn\">-0.1</div>\n                            <div @click=\"changeClusterGrowth(0.01)\" class=\"btn\">+0.1</div>\n                        </div>\n                    </div>\n\n                    <!--<div class=\"row-btn\">\n                        <div>{{range}}}</div>\n                        <range-slider v-model=\"cluster\" type=\"range\" min=\"0\" max=\"800\" step=\"10\" />\n                    </div>-->\n                </div>\n\n                <router-view\n                    :nodes=\"cuttedNodes\"\n                    :labels=\"labels\"\n                    :node=\"clickedNode\"\n                    :getNode=\"getNode\"\n                    :changeActiveNode=\"changeActiveNode\"\n                />\n\n\n                <div class=\"info-box\">\n                    <img class=\"img\" v-if=\"activeNode.hasImage\" :src=\"activeNode.image.src\" />\n                    <div>Name: {{activeNode.name}}</div>\n                    <div>Label: {{activeNode.label}}</div>\n                    <div>Labels: {{activeNode.labels}}</div>\n                    <div>Links #: {{selectedNodeNeighboursCount}}</div>\n                </div>\n            </div>\n        </div>\n        <triplets :node=\"activeNode\"/>\n    </div>\n</template>\n\n<script>\nimport io from 'socket.io-client';\nimport Node from '../util/Node';\nimport CanvasState from '../util/CanvasState';\n\nimport RangeSlider from './RangeSlider';\nimport Triplets from './Triplets';\nimport Classifier from './Classifier';\nimport Scissors from '../icons/Scissors';\n\n/*\n    TODO:\n    - rename imageWidth to imageSize\n    - rename scale to zoom\n*/\n\nfunction makeImgageData(img) {\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    canvas.width = img.width;\n    canvas.height = img.height;\n    context.drawImage(img, 0, 0);\n    const data = context.getImageData(0, 0, img.width, img.height);\n    console.log(data);\n    return data;\n}\n\n\nexport default {\n    store: null,\n    name: 'TsneMap',\n    components: {\n        Scissors,\n        RangeSlider,\n        Triplets,\n        Classifier,\n    },\n    data: () => ({\n        items: [],\n        positives: [],\n        negatives: [],\n        // store: null,\n        socket: null,\n        connectedToSocket: false,\n        loadingNodes: false,\n        nodesCount: 0,\n        scale: 0,\n        scale2: 0,\n        labels: [],\n        selectedLabel: null,\n        showLabels: false, // show the labels in a dropdown\n        clickedNode: null,\n        labelColor: '#6057ff',\n        showKLabels: false,\n        scissors: false,\n        width: 0,\n        height: 0,\n        activeNode: {},\n        cluster: 5, // default - set on mount from CanvasStore class\n        imgWidth: 0, // default - set on mount from CanvasStore class\n        activeImgWidth: 0, // default - set on mount from CanvasStore class\n        borderWidth: 0, // default - set on mount from CanvasStore class\n        range: 0,\n        cuttedNodes: [], // selected nodes through scissor\n        showOptions: false, // show options menu\n        scrollGrowth: 0,\n        scrollImgGrowth: 0,\n        clusterGrowth: 0,\n\n    }),\n    methods: {\n        getNode(i) {\n            return this.store.getNode(i);\n        },\n        sendData() {\n            console.log('send data clicked');\n            const nodes = this.store.getNodes();\n            // this.store.clear()\n            this.store.resetStore();\n            this.socket.emit('updateNodes', nodes);\n            this.loadingNodes = true;\n            this.nodesCount = 0;\n        },\n\n        changeActiveNode(n) {\n            this.activeNode = n\n            return null\n        },\n\n        //\n        changeCluster(v) {\n            // console.log(\"cluster more clicked\")\n            this.store.cluster += v; // update canvasState\n            this.cluster = this.store.cluster; // update ui\n        },\n\n        updateSelection(node) {\n            if (!node) {\n                // deactivation\n                this.activeNode = {};\n            } else {\n                this.activeNode = node;\n            }\n        },\n\n        updateScale(scale) {\n            this.scale = scale;\n        },\n\n        updateScale2(scale2) {\n            this.scale2 = scale2;\n        },\n\n        changeImgWidth(v) {\n            this.store.imgScale += v; // update canvasState\n            this.imgWidth = this.store.imgScale; // update ui\n        },\n\n        activeImgWidthMore() {\n            this.store.activeImgScale += 1; // update canvasState\n            this.activeImgWidth = this.store.activeImgScale; // update ui\n        },\n        activeImgWidthLess() {\n            this.store.activeImgScale -= 1; // update canvasState\n            this.activeImgWidth = this.store.activeImgScale; // update ui\n        },\n\n        borderWidthMore() {\n            this.store.borderWidth += 1; // update canvasState\n            this.borderWidth = this.store.borderWidth; // update ui\n        },\n        borderWidthLess() {\n            this.store.borderWidth -= 1; // update canvasState\n            this.borderWidth = this.store.borderWidth; // update ui\n        },\n\n        addNodeToClassify(node) {\n            console.log('addNodeToClassify');\n            console.log(node);\n            if (this.cuttedNodes.indexOf(node) === -1) this.cuttedNodes.push(node);\n        },\n        toggleShowOptions() {\n            this.showOptions = !this.showOptions;\n        },\n        changeScrollGrowth(v) {\n            this.store.scrollGrowth = Math.round((this.store.scrollGrowth + v) * 100) / 100;\n            this.scrollGrowth = this.store.scrollGrowth;\n        },\n        changeScrollImgGrowth(v) {\n            this.store.scrollImgGrowth = Math.round((this.store.scrollImgGrowth + v) * 100) / 100;\n            this.scrollImgGrowth = this.store.scrollImgGrowth;\n        },\n        changeClusterGrowth(v) {\n            this.store.clusterGrowth = Math.round((this.store.clusterGrowth + v) * 100) / 100;\n            // this.clusterGrowth = this.store.clusterGrowth;\n        },\n        toggleShowKLabels() {\n            this.showKLabels = !this.showKLabels;\n            this.store.showKLabels = this.showKLabels;\n            this.store.valid = false;\n            console.log(this.showKLabels);\n        },\n        toogleLabel(label) {\n            if (this.selectedLabel === label) this.selectedLabel = null;\n            else this.selectedLabel = label;\n            this.store.selectedLabel = this.selectedLabel;\n            this.store.triggerDraw();\n        },\n        selectScissors() {\n            console.log('selectScissors');\n            this.scissors = !this.scissors;\n            this.store.scissors = this.scissors;\n        },\n\n    },\n    watch: {\n        cluster(value) {\n            console.log('change cluster');\n            this.store.cluster = value;\n        },\n    },\n    computed: {\n        selectedNode() {\n            return this.store && this.store.selection && this.store.selection.name;\n        },\n        selectedNodeNeighboursCount() {\n            return this.activeNode.links && Object.keys(this.activeNode.links).length;\n        },\n        imageScale() {\n            return this.store && this.store.selection && this.store.selection.imageScale;\n        },\n    },\n    mounted() {\n        const socket = io.connect('http://localhost:3000', {\n            transports: ['websocket'],\n            reconnectionDelay: 100,\n            reconnectionDelayMax: 1000,\n        });\n        const canvas = document.getElementById('canvas');\n        const parantWidth = canvas.parentNode.clientWidth * 0.8;\n        const parantHeight = 700; // canvas.parentNode.clientHeight //* 0.8\n\n        this.width = parantWidth;\n        this.height = parantHeight;\n\n        const hitCanvas = document.createElement('canvas');\n\n        canvas.width = parantWidth;\n        canvas.height = parantHeight;\n\n        hitCanvas.width = parantWidth;\n        hitCanvas.height = parantHeight;\n\n        // const ctx = canvas.getContext('2d');\n        const s = new CanvasState(canvas, hitCanvas, socket, this);\n\n        this.store = s;\n\n        s.updateSelectionUI = this.updateSelection;\n        s.updateScaleUI = this.updateScale;\n        s.updateScale2UI = this.updateScale2;\n        s.addNodeToClassify = this.addNodeToClassify;\n\n        // sync values from UI to store\n        s.labelColor = this.labelColor;\n\n        // set init value in UI\n        this.cluster = s.cluster;\n        this.imgWidth = s.imgScale;\n        this.activeImgWidth = s.activeImgScale;\n        this.borderWidth = s.borderWidth;\n        this.scrollGrowth = s.scrollGrowth;\n        this.scrollImgGrowth = s.scrollImgGrowth;\n\n        console.log('Save store');\n        console.log(this.store);\n        this.socket = socket;\n\n        socket.on('connect', () => {\n            this.connectedToSocket = true;\n            console.log('conected'); // das wirft immer unde\n            console.log(`Socket id: ${socket.id}`); // das wirft immer unde\n            console.log(socket);\n            // if there is allready data then this is just a reconnect\n            const nodes = this.store.getNodes();\n            console.log('nodes in store while connect (its maybe just a reconnect)');\n            console.log(nodes);\n            if (!Object.keys(nodes).length && !this.loadingNodes) {\n                socket.emit('updateNodes', {});\n                this.loadingNodes = true;\n            }\n            // s.clear() // maybe there is something inside?\n        });\n        socket.on('disconnect', (reason) => {\n            this.connectedToSocket = false;\n            console.log(`disconnect: ${reason}`); // das wirft immer unde\n            console.log(socket);\n            // s.clear() // maybe there is something inside?\n        });\n\n        socket.on('node', (data, cb) => {\n            if (data.index % 100 === 0) {\n                console.log(`receive node ${data.index}`);\n                console.log(data);\n            }\n\n            s.addNode(new Node(data, s.ctx, s.hitCtx));\n            s.triggerDraw();\n            cb(data.index);\n        });\n\n        socket.on('receiveImage', (data) => {\n            // console.log('receive image data');\n            // console.log(data);\n            const node = s.nodes[data.index];\n            // console.log(node);\n            node.image.src = `data:image/jpeg;base64,${data.buffer}`;\n            node.hasImage = true;\n            s.valid = false;\n        });\n\n        socket.on('allNodesUpdated', () => {\n            this.loadingNodes = false;\n        });\n        socket.on('nodesCount', (nodesCount) => {\n            console.log(`nodesCount: ${nodesCount}`);\n            this.nodesCount = nodesCount;\n        });\n\n        socket.on('updateLabels', (data) => {\n            console.log('updateLabels');\n            console.log(data);\n            this.labels = data;\n        });\n\n        socket.on('updateKdtree', (kdtree) => {\n            console.log('updateKdtree');\n            console.log(kdtree);\n            s.kdtree = kdtree;\n            // console.log(s.range(-5 ,-5 ,5 ,5))\n        });\n        // this.updateCanvas();\n\n        socket.on('connect_error', () => {\n            console.log('connect_error');\n        });\n\n        socket.on('connect_timeout', () => {\n            console.log('connect_timeout');\n        });\n\n        socket.on('reconnect', () => {\n            console.log('reconnect');\n        });\n\n        socket.on('connecting', () => {\n            console.log('connecting');\n        });\n\n        socket.on('reconnecting', () => {\n            console.log('reconnecting');\n        });\n\n        socket.on('connect_failed', () => {\n            console.log('connect_failed');\n        });\n\n        socket.on('reconnect_failed', () => {\n            console.log('reconnect_failed');\n        });\n\n        socket.on('close', () => {\n            console.log('close');\n        });\n    },\n    beforeDestroy() {\n        // end connection with server socket\n        if (this.socket) this.socket.disconnect();\n        // clear check-for-drawing interval\n        clearInterval(this.store.timerId);\n    },\n};\n</script>\n\n<style scoped>\n    #canvas {\n        height: 700px;\n        margin: 5px;\n        background-color: white;\n        box-shadow: 0 7px 14px rgba(50,50,93,.1), 0 3px 6px rgba(0,0,0,.08);\n    }\n\n    .sub-header {\n        display: flex;\n        justify-content: space-between;\n        /*align-items: center;*/\n        height: 2.5rem;\n        padding: 5px;\n    }\n\n    .body {\n        /*width: 100%;*/\n        /*height: 100%;*/\n        /*background-color: rgb(255, 90, 75);*/\n        /*//color: black;*/\n        /*padding: 5px;*/\n    }\n\n    .details {\n        width: 18%;\n        height: 100%;\n        margin: 5px;\n        background-color: white;\n    }\n\n    .row-btn {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n\n    .info-box {\n        padding: 0.5rem;\n    }\n\n    .img {\n        max-width: 100%;\n        max-height: 20rem;\n    }\n\n    .loader {\n        border: 3px solid #f3f3f3; /* Light grey */\n        border-top: 3px solid #6772e5; /* Blue */\n        border-radius: 50%;\n        width: 15px;\n        height: 15px;\n        animation: spin 2s linear infinite;\n    }\n\n    @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n    }\n\n    .labelsArea {\n        position: relative;\n        z-index: 1;\n    }\n\n    .labels {\n        /*position: absolute;*/\n        top: 25px;\n        width: 100%;\n\n        /*display: flex;*/\n        /*flex-direction: column;*/\n        /*z-index: 1;*/\n    }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TsneMap.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a755806\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Scissors.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Scissors.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Scissors.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a755806\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Scissors.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a755806\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/icons/Scissors.vue\n// module id = null\n// module chunks = ","<template>\n    <svg\n        @click=\"clickHandler\"\n        :class=\"{ active }\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"24\"\n        height=\"24\"\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        stroke-width=\"2\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n        class=\"scissors\"\n    >\n        <circle cx=\"6\" cy=\"6\" r=\"3\"></circle>\n        <circle cx=\"6\" cy=\"18\" r=\"3\"></circle>\n        <line x1=\"20\" y1=\"4\" x2=\"8.12\" y2=\"15.88\"></line>\n        <line x1=\"14.47\" y1=\"14.48\" x2=\"20\" y2=\"20\"></line>\n        <line x1=\"8.12\" y1=\"8.12\" x2=\"12\" y2=\"12\"></line>\n    </svg>\n</template>\n\n<script>\nexport default {\n    name: 'Scissors',\n    props: ['clickHandler', 'active'],\n};\n</script>\n\n<style scoped>\n    .scissors:hover{\n        border: 1px solid grey;\n    }\n    .scissors.active{\n        border: 1px solid grey;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/icons/Scissors.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"sub-header\"},[_c('div'),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"dropdownArea\"}),_vm._v(\" \"),_c('div',{staticClass:\"labelsArea\",on:{\"mouseenter\":function($event){_vm.showLabels = true},\"mouseleave\":function($event){_vm.showLabels = false}}},[_c('div',{staticClass:\"btn\"},[_vm._v(\"labels\")]),_vm._v(\" \"),(_vm.showLabels)?_c('div',{staticClass:\"labels\"},[_vm._l((_vm.labels),function(value,i){return _c('div',{key:i,staticClass:\"btn\",class:{ active: _vm.selectedLabel === value },style:({'color': value}),on:{\"click\":function($event){_vm.toogleLabel(value)}}},[_vm._v(\"\\n                        \"+_vm._s(value)+\"\\n                    \")])}),_vm._v(\" \"),_c('div',{staticClass:\"btn\",class:{ active: _vm.showKLabels },on:{\"click\":_vm.toggleShowKLabels}},[_vm._v(\"\\n                        K-Label\\n                    \")])],2):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",class:{ active: _vm.showOptions },on:{\"click\":_vm.toggleShowOptions}},[_vm._v(\"Options\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.sendData}},[_vm._v(\"Update Data\")]),_vm._v(\" \"),_c('div',{staticClass:\"tool-box row\"},[(_vm.loadingNodes)?_c('div',{staticClass:\"loader\"}):_vm._e(),_vm._v(\" \"),_c('scissors',{attrs:{\"active\":_vm.scissors,\"clickHandler\":_vm.selectScissors}},[_vm._v(\"a\")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('canvas',{ref:\"canvas\",attrs:{\"id\":\"canvas\",\"tabindex\":\"0\"}}),_vm._v(\" \"),_c('div',{staticClass:\"details\"},[(_vm.showOptions)?_c('div',{staticClass:\"options info-box\"},[_c('div',{staticClass:\"row-btn\"},[_c('div',[_vm._v(\"Cluster: \"+_vm._s(Math.round(_vm.cluster)))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeCluster(-100)}}},[_vm._v(\"-100\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeCluster(-1000)}}},[_vm._v(\"-1000\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeCluster(100)}}},[_vm._v(\"+100\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeCluster(1000)}}},[_vm._v(\"+1000\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"row-btn\"},[_c('div',[_vm._v(\"ImageWidth: \"+_vm._s(_vm.imgWidth))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeImgWidth(-2)}}},[_vm._v(\"-2\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeImgWidth(2)}}},[_vm._v(\"+2\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"row-btn\"},[_c('div',[_vm._v(\"ImageWidth(active): \"+_vm._s(_vm.activeImgWidth))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":_vm.activeImgWidthLess}},[_vm._v(\"-1\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.activeImgWidthMore}},[_vm._v(\"+1\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"row-btn\"},[_c('div',[_vm._v(\"BorderWidth: \"+_vm._s(_vm.borderWidth))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":_vm.borderWidthLess}},[_vm._v(\"-1\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.borderWidthMore}},[_vm._v(\"+1\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"row-btn\"},[_c('div',[_vm._v(\"ScrollGrowth: \"+_vm._s(_vm.scrollGrowth))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeScrollGrowth(-0.01)}}},[_vm._v(\"-0.1\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeScrollGrowth(0.01)}}},[_vm._v(\"+0.1\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"row-btn\"},[_c('div',[_vm._v(\"ScrollImgGrowth: \"+_vm._s(_vm.scrollImgGrowth))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeScrollImgGrowth(-0.01)}}},[_vm._v(\"-0.1\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeScrollImgGrowth(0.01)}}},[_vm._v(\"+0.1\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"row-btn\"},[_c('div',[_vm._v(\"ClusterGrowth: \"+_vm._s(_vm.clusterGrowth))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeClusterGrowth(-0.01)}}},[_vm._v(\"-0.1\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeClusterGrowth(0.01)}}},[_vm._v(\"+0.1\")])])])]):_vm._e(),_vm._v(\" \"),_c('router-view',{attrs:{\"nodes\":_vm.cuttedNodes,\"labels\":_vm.labels,\"node\":_vm.clickedNode,\"getNode\":_vm.getNode,\"changeActiveNode\":_vm.changeActiveNode}}),_vm._v(\" \"),_c('div',{staticClass:\"info-box\"},[(_vm.activeNode.hasImage)?_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.activeNode.image.src}}):_vm._e(),_vm._v(\" \"),_c('div',[_vm._v(\"Name: \"+_vm._s(_vm.activeNode.name))]),_vm._v(\" \"),_c('div',[_vm._v(\"Label: \"+_vm._s(_vm.activeNode.label))]),_vm._v(\" \"),_c('div',[_vm._v(\"Labels: \"+_vm._s(_vm.activeNode.labels))]),_vm._v(\" \"),_c('div',[_vm._v(\"Links #: \"+_vm._s(_vm.selectedNodeNeighboursCount))])])],1)]),_vm._v(\" \"),_c('triplets',{attrs:{\"node\":_vm.activeNode}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8417b096\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TsneMap.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8417b096\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TsneMap.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TsneMap.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TsneMap.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8417b096\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TsneMap.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8417b096\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TsneMap.vue\n// module id = null\n// module chunks = ","\n<template>\n    <div id=\"app\">\n        <nav-header />\n        <tsne-map />\n    </div>\n</template>\n\n<script>\nimport NavHeader from './components/NavHeader';\nimport TsneMap from './components/TsneMap';\n\nexport default {\n    name: 'App',\n    components: { NavHeader, TsneMap },\n};\n</script>\n\n<style>\n    body {\n        margin: 0 !important;\n    }\n\n    input {\n        outline: none;\n        background-color: transparent !important;\n        border: 0 solid;\n        border-bottom: 1px solid rgba(0,0,0,0.25);\n        font: inherit;\n    }\n\n    #app {\n        font-family: Camphor, Open Sans, Segoe UI, sans-serif;\n        text-rendering: optimizeLegibility;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        color: #2c3e50;\n        margin: 0;\n    }\n\n    .row {\n        display: flex;\n    }\n\n    .button {\n        margin: 10px;\n        height: 40px;\n        line-height: 40px;\n        padding: 0 14px;\n        box-shadow: 0 4px 6px rgba(50, 50, 93, .11), 0 1px 3px rgba(0, 0, 0, .08);\n        background: #fff;\n        color: #6772e5;\n        border-radius: 4px;\n        font-size: 15px;\n        font-weight: 600;\n        text-transform: uppercase;\n        letter-spacing: .025em;\n        transition: all .15s ease;\n        cursor: pointer;\n    }\n\n    .btn {\n        align-self: center;\n        text-decoration: none;\n        /*text-overflow: ;*/\n        margin: 0.5rem;\n        height: 20px;\n        line-height: 20px;\n        padding: 0 14px;\n        box-shadow: 0 4px 6px rgba(50, 50, 93, .11), 0 1px 3px rgba(0, 0, 0, .08);\n        background: #fff;\n        color: #6772e5;\n        border-radius: 4px;\n        font-size: 15px;\n        font-weight: 600;\n        text-transform: uppercase;\n        letter-spacing: .025em;\n        transition: all .15s ease;\n        cursor: pointer;\n    }\n\n    .btn.active {\n        color: #fff;\n        background: #6772e5;\n    }\n\n    .btn:hover {\n        transform: translateY(-1px);\n        box-shadow: 0 7px 14px rgba(50,50,93,.1), 0 3px 6px rgba(0,0,0,.08);\n    }\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('nav-header'),_vm._v(\" \"),_c('tsne-map')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d55566f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d55566f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d55566f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"Hallo Welt\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5548b6b7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Welcome.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5548b6b7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Welcome.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Welcome.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Welcome.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5548b6b7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Welcome.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5548b6b7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Welcome.vue\n// module id = null\n// module chunks = ","<template>\n    <div>Hallo Welt</div>\n</template>\n\n<script>\nexport default {\n    name: 'Welcome',\n};\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Welcome.vue","<template>\n    <div class=\"area\">\n        <div v-if=\"loading\" class=\"loading\"><div class=\"loading-wheel\"></div></div>\n        <div class=\"imgArea\" :class=\"{activePositiv: selectPositives}\" @click=\"toggleActive(true)\">\n            <div class=\"image\" v-for=\"(n, i) in positives\" :key=\"i\" @mouseover=\"handleMouseOver(n)\">\n                <img\n                    :src=\"n.icon.src\"\n                    alt=\"\"\n                    @click=\"removePositives(i)\"\n                >\n            </div>\n        </div>\n        <div class=\"imgArea\" :class=\"{activeNegativ: !selectPositives}\" @click=\"toggleActive(false)\">\n            <div class=\"image\" v-for=\"(n, i) in negatives\" :key=\"i\" @mouseover=\"handleMouseOver(n)\">\n                <img\n                    :src=\"n.icon.src\"\n                    alt=\"\"\n                    @click=\"removeNegatives(i)\"\n                >\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"btn\" @click=\"trainSvm\">train</div>\n            <div class=\"btn\" @click=\"stopSvm\">stop</div>\n        </div>\n    </div>\n\n</template>\n\n<script>\nexport default {\n    name: 'Svm',\n    props: ['node', 'nodes', 'getNode', 'changeActiveNode'],\n    data: () => ({\n        positives: [],\n        positivesAll: [],\n        negatives: [],\n        negativesAll: [],\n        selectPositives: true,\n        loading: false,\n    }),\n    watch: {\n        node(n) {\n            this.addNode(n);\n        },\n        nodes(nodes) {\n            if (nodes) nodes.forEach(n => this.addNode(n));\n        },\n    },\n\n    methods: {\n        addNode(n) {\n            if (n && this.positives.indexOf(n) === -1 && this.negatives.indexOf(n) === -1) {\n                if (this.selectPositives) this.positives.push(n);\n                else this.negatives.push(n);\n            }\n        },\n        toggleActive(v) {\n            this.selectPositives = v;\n        },\n        removePositives(i) {\n            this.negatives.push(this.positives[i]);\n            this.positives.splice(i, 1);\n        },\n        removeNegatives(i) {\n            this.positives.push(this.negatives[i]);\n            this.negatives.splice(i, 1);\n        },\n        async trainSvm() {\n            console.log('trainSvm clicked');\n            this.loading = true\n\n            // save nodes\n            this.positives.forEach(n => this.positivesAll.indexOf(n) === -1 && this.positivesAll.push(n))\n            this.negatives.forEach(n => this.negativesAll.indexOf(n) === -1 && this.negativesAll.push(n))\n\n            const body = JSON.stringify({\n                p: this.positivesAll,\n                n: this.negativesAll,\n            });\n            const data = await fetch('/api/v1/trainSvm', {\n                method: 'POST',\n                headers: { 'Content-type': 'application/json' },\n                body,\n            }).then(res => res.json()).catch(e => console.error(e));\n\n            this.positives = [];    // reset\n            data.p.forEach(i => this.positives.push(this.getNode(i)));\n            this.negatives = [];    // reset\n            data.n.forEach(i => this.negatives.push(this.getNode(i)));\n            this.loading = false\n        },\n        async stopSvm() {\n            console.log('stopSvm clicked');\n            this.loading = true\n\n            // save nodes\n            this.positives.forEach(n => this.positivesAll.indexOf(n) === -1 && this.positivesAll.push(n))\n            this.negatives.forEach(n => this.negativesAll.indexOf(n) === -1 && this.negativesAll.push(n))\n\n            await fetch('/api/v1/stopSvm', {\n                method: 'POST',\n                headers: { 'Content-type': 'application/json' },\n            }).then(res => res.text()).catch(e => console.error(e));\n\n            this.loading = false\n        },\n        handleMouseOver(n) {\n            this.changeActiveNode(n)\n        }\n    },\n\n};\n</script>\n\n<style scoped>\n    .area {\n        position: relative;\n\n        padding: 0.1rem;\n    }\n\n    .loading {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.1);\n    }\n\n    .loading-wheel {\n        width: 10px;\n        height: 10px;\n        margin-top: -20px;\n        margin-left: -20px;\n\n        position: absolute;\n        top: 50%;\n        left: 50%;\n\n        border-width: 20px;\n        border-radius: 50%;\n        -webkit-animation: spin 1s linear infinite;\n\n        border-style: double;\n        border-color: #ccc transparent;\n    }\n    /*http://jsfiddle.net/8k2NV/2/*/\n\n    @-webkit-keyframes spin {\n        0% {\n            -webkit-transform: rotate(0);\n        }\n        100% {\n            -webkit-transform: rotate(-360deg);\n        }\n    }\n\n    .imgArea {\n        min-height: 4rem;\n        max-height: 15rem;\n        box-shadow: 0 7px 14px rgba(50,50,93,.1), 0 3px 6px rgba(0,0,0,.08);\n        display: flex;\n        align-items: center;\n        flex-flow: wrap;\n        flex-direction: row;\n        margin-bottom: 1rem;\n\n        overflow: auto;\n    }\n\n    .activePositiv {\n        box-shadow: 0 7px 14px rgba(10, 255, 0, 0.2), 0 3px 6px rgba(0,0,0,.2);\n    }\n\n    .activeNegativ {\n        box-shadow: 0 7px 14px rgba(255, 0, 66, 0.2), 0 3px 6px rgba(0,0,0,.2);\n    }\n\n    img {\n        height: 100%;\n        width: 100%;\n        object-fit: scale-down;\n    }\n\n    .image {\n        width: 3.5rem;\n        height: 3.5rem;\n        display: flex;\n        justify-content: center;\n        align-content: center;\n        padding: 0.1rem;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Svm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"area\"},[(_vm.loading)?_c('div',{staticClass:\"loading\"},[_c('div',{staticClass:\"loading-wheel\"})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"imgArea\",class:{activePositiv: _vm.selectPositives},on:{\"click\":function($event){_vm.toggleActive(true)}}},_vm._l((_vm.positives),function(n,i){return _c('div',{key:i,staticClass:\"image\",on:{\"mouseover\":function($event){_vm.handleMouseOver(n)}}},[_c('img',{attrs:{\"src\":n.icon.src,\"alt\":\"\"},on:{\"click\":function($event){_vm.removePositives(i)}}})])})),_vm._v(\" \"),_c('div',{staticClass:\"imgArea\",class:{activeNegativ: !_vm.selectPositives},on:{\"click\":function($event){_vm.toggleActive(false)}}},_vm._l((_vm.negatives),function(n,i){return _c('div',{key:i,staticClass:\"image\",on:{\"mouseover\":function($event){_vm.handleMouseOver(n)}}},[_c('img',{attrs:{\"src\":n.icon.src,\"alt\":\"\"},on:{\"click\":function($event){_vm.removeNegatives(i)}}})])})),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":_vm.trainSvm}},[_vm._v(\"train\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.stopSvm}},[_vm._v(\"stop\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2336638a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Svm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2336638a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Svm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Svm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Svm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2336638a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Svm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2336638a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Svm.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport Welcome from '@/components/Welcome';\nimport Svm from '@/components/Svm';\nimport Classifier from '../components/Classifier';\nimport { TRIPLETS, TSNE, SVM, CLASSIFIER, NEIGHBOURS } from '../util/modes';\n\nVue.use(Router);\n\nexport default new Router({\n    routes: [\n        {\n            path: '/',\n            name: 'Welcome',\n            component: Welcome,\n        }, {\n            path: `/${CLASSIFIER}`,\n            name: CLASSIFIER,\n            component: Classifier,\n            props: true,\n        }, {\n            path: `/${SVM}`,\n            name: SVM,\n            component: Svm,\n            props: true,\n        },\n    ],\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\nimport router from './router';\nimport './index.css';\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n    el: '#app',\n    router,\n    components: { App },\n    template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}