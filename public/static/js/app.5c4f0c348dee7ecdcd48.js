webpackJsonp([1],{"+ILC":function(t,e){},0:function(t,e){},"5DVU":function(t,e){},"6E1l":function(t,e){},"9+76":function(t,e){},"B+Ni":function(t,e){t.exports=function(t,e,s,i,o,n,a){for(var r=[0,t.length-1,0],c=[],l=void 0,h=void 0;r.length;){var d=r.pop(),u=r.pop(),v=r.pop();if(u-v<=a)for(var g=v;g<=u;g++)l=e[2*g],h=e[2*g+1],l>=s&&l<=o&&h>=i&&h<=n&&c.push(t[g]);else{var p=Math.floor((v+u)/2);l=e[2*p],h=e[2*p+1],l>=s&&l<=o&&h>=i&&h<=n&&c.push(t[p]);var f=(d+1)%2;(0===d?s<=l:i<=h)&&(r.push(v),r.push(p-1),r.push(f)),(0===d?o>=l:n>=h)&&(r.push(p+1),r.push(u),r.push(f))}}return c}},Cx0D:function(t,e){},DKs0:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"left-header"},[s("router-link",{attrs:{to:"/svm"}},[t._v("SVM")]),t._v(" "),s("router-link",{attrs:{to:"/classifier"}},[t._v("Classifier")]),t._v(" "),s("router-link",{attrs:{to:"/triplets"}},[t._v("Triplets")]),t._v(" "),s("router-link",{attrs:{to:"/neighbours"}},[t._v("Neighbours")]),t._v(" "),s("router-link",{attrs:{to:"/tsne"}},[t._v("t-SNE")])],1),t._v(" "),s("div",{staticClass:"right-header"},[s("router-link",{attrs:{to:"/Dataset"}},[t._v("Dataset")]),t._v(" "),s("router-link",{attrs:{to:"/Dataset"}},[t._v("Dataset")])],1)])},staticRenderFns:[]};var n=s("VU/8")({name:"NavHeader"},o,!1,function(t){s("9+76")},"data-v-d642bfee",null).exports,a=s("fZjL"),r=s.n(a),c=s("Xxa5"),l=s.n(c),h=s("mvHQ"),d=s.n(h),u=s("exGp"),v=s.n(u),g=s("gRE1"),p=s.n(g),f=s("DmT9"),m=s.n(f),w=s("goZT"),b=s.n(w),_=s("Zzkc"),k=s("Zrlr"),C=s.n(k),y=s("wxAW"),x=s.n(y),N=function(){function t(e,s,i){var o=this;C()(this,t),this.name=e.name,this.links=e.links,this.index=e.index,this._x=e.x,this._y=e.y,this._width=1,this._height=1,this.colorKey=e.colorKey,this.color=e.color,this.ctx=s,this.hitCtx=i,this.group=!1,this.clique=e.clique,this.cliqueLen=e.clique.length,this.cluster=e.cluster,this.positives=e.positives,this.negatives=e.negatives,this.label=e.label,this.labels=e.labels,this.rank=e.rank,this.imageData={};try{p()(e.pics).forEach(function(t,e){if(o.imageData[e]=new ImageData(new Uint8ClampedArray(t.data),t.info.width,t.info.height),9===e){var s=document.createElement("canvas"),i=o.imageData[e];s.width=i.width,s.height=i.height,s.getContext("2d").putImageData(i,0,0),o.icon=s.toDataURL("image/png")}})}catch(t){console.error(t),console.log(this),console.log(e)}this._isActive=!1,this.isActiveNeighbour=!1,this.hasImage=!1,this.image=new Image,this.imgScale=null,this._value=null}return x()(t,[{key:"move",value:function(t,e){this._x+=t,this._y+=e}},{key:"draw",value:function(t,e,s){var i=this.icon;if(i){var o=i.width*s/100/e,n=i.height*s/100/e,a=this._x-o/2,r=this._y-n/2;this.ctx.drawImage(i,a,r,o,n)}}},{key:"drawClusterd",value:function(t,e,s,i){var o=1/t,n=this._x,a=this._y;this.ctx.fillStyle="grey",this.ctx.fillRect(n,a,o,o)}},{key:"drawAsActive",value:function(t,e){this.scale=1;var s=this.icon,i=s.width*e/1e3,o=s.height*e/1e3,n=this._x-i/2,a=this._y-o/2;this.ctx.putImageData(s,n,a,i,o),this.hitCtx.fillStyle=this.colorKey,this.hitCtx.fillRect(n,a,i,o)}},{key:"drawAsNeighbour",value:function(t,e,s){this.scale=1;var i=this.icon,o=i.width*e*s/1e3,n=i.height*e*s/1e3,a=this._x-o/2,r=this._y-n/2;this.ctx.drawImage(i,a,r,o,n),this.hitCtx.fillStyle=this.colorKey,this.hitCtx.fillRect(a,r,o,n)}},{key:"drawBorder",value:function(t,e,s,i,o,n){var a=this.icon.width*(this.isActive?s:this.isActiveNeighbour?s*this.value:e)/1e3,r=this.icon.height*(this.isActive?s:this.isActiveNeighbour?s*this.value:e)/1e3,c=this._x-a/2,l=this._y-r/2,h=o/10/t;this.ctx.strokeStyle=n||this.color,this.ctx.lineWidth=h,this.cluster<i||this.isActive||this.isActiveNeighbour?h&&this.ctx.strokeRect(c,l,a,r):(h&&this.ctx.strokeRect(c,l,a/t,r/t),this.hitCtx.fillStyle=this.colorKey,this.hitCtx.fillRect(c,l,a/t,r/t))}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"value",get:function(){return this._value},set:function(t){this._value=t<.1?.1:t>1?1:t}},{key:"isActive",get:function(){return this._isActive},set:function(t){this._isActive=t}},{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}}]),t}(),S=s("d7EF"),R=s.n(S),G=s("W3Iv"),M=s.n(G),E=s("Dd8w"),A=s.n(E),D=s("B+Ni"),I=s.n(D),H=function(){function t(e,s,i,o){var n=this;C()(this,t),this.socket=i,this.ui=o,this.canvas=e,this.ctx=e.getContext("2d"),this.width=e.width,this.height=e.height,this.hitCanvas=s,this.hitCtx=s.getContext("2d"),this.kdtree={},this.valid=!0,this._valid=!0,this.nodes={},this.colorHash={},this.dragging=!1,this.draggNode=!1,this.selection=null,this.nodeOnMouseDown=!1,this.showKLabels=!1,this.selectedLabel=null,this.selectedCategory=null,this.labelColor=null,this.activeMode=!1,this.nodeUnderMouse=!1,this.scissors=!1,this.drawScissors=!1,this.scissorsStartX=0,this.scissorsStartY=0,this.scissorsEndX=0,this.scissorsEndY=0,this._cluster=5e4,this._scale=20,this._zoomStage=0,this._imgSize=0,this._activeImgScale=10,this._borderWidth=5,this._scrollGrowth=100,this.scaleStage=[20,50,100,200,400,800,1600,3200],this._scrollImgGrowth=1.1,this._clusterGrowth=1.2,this.translateX=this.width/2,this.translateY=this.height/2,this.startX=null,this.startY=null,this.canvas.onmousedown=function(t){return n.handleMouseDown(t)},this.canvas.onmousemove=function(t){return n.handleMouseMove(t)},this.canvas.onmouseup=function(t){return n.handleMouseUp(t)},this.canvas.ondblclick=function(t){return n.handleDoubleClick(t)},this.canvas.onwheel=function(t){return n.zoom(t)},this.sortedNodes=[],this.sorted=!1,this.sizeRange=3,this.moveGroupToMouse=!1,this.groupNeighbours={},this.removedGroupNeighbours={}}return x()(t,[{key:"triggerDraw",value:function(){this.valid=!1}},{key:"doubleNodes",value:function(){var t=this,e=r()(this.nodes).length,s=2*Math.random()-1;console.log(e),p()(this.nodes).map(function(i,o){var n=e+o,a=A()({x:o%2?i.x-s:i.x+s,y:o%2?i.y-s:i.y+s},i);a.index=n,console.log({newNode:a,node:i,index:n}),t.addNode(a)}),console.log(this.nodes)}},{key:"clearGroup",value:function(){p()(this.nodes).forEach(function(t){return t.group?t.group=!1:null}),this.triggerDraw()}},{key:"groupNodesByIds",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.clearGroup(),e.forEach(function(e){return t.nodes[e].group=!0}),this.triggerDraw()}},{key:"addLabeledToGroup",value:function(t){p()(this.nodes).forEach(function(e){return e.labels.includes(t)?e.group=!0:null}),this.triggerDraw()}},{key:"getGroupeIds",value:function(){var t=[];return p()(this.nodes).forEach(function(e){return e.group?t.push(e.index):null}),t}},{key:"moveGroupToPosition",value:function(t,e){p()(this.nodes).forEach(function(s){s.group&&(s.x+=(t-s.x)/2,s.y+=(e-s.y)/2)}),this.triggerDraw()}},{key:"updateGroupNeighbours",value:function(t){this.groupNeighbours=t,this.removedGroupNeighbours={},this.triggerDraw()}},{key:"resetGroupNeighbours",value:function(){this.groupNeighbours={},this.removedGroupNeighbours={},this.triggerDraw()}},{key:"addNode",value:function(t){this.nodes[t.index]=t,this.colorHash["rgb("+t.colorKey[0]+","+t.colorKey[1]+","+t.colorKey[2]+")"]=t.index,this.triggerDraw()}},{key:"updateNodes",value:function(t){var e=this;p()(t).forEach(function(t){e.nodes[t.index].x=t.x,e.nodes[t.index].y=t.y,t.labels&&(e.nodes[t.index].labels=t.labels)}),this.triggerDraw()}},{key:"getNodes",value:function(){var t={};return p()(this.nodes).forEach(function(e){var s=e.index,i=e.x,o=e.y,n=e.name,a=e.negatives,r=e.positives,c=e.links,l=e.labels;t[s]={index:s,x:i,y:o,name:n,negatives:a,positives:r,links:c,labels:l}}),t}},{key:"getNodesSimple",value:function(){var t={};return p()(this.nodes).forEach(function(e){var s=e.index,i=e.x,o=e.y;return t[s]={index:s,x:i,y:o}}),t}},{key:"getNode",value:function(t){return this.nodes[t]}},{key:"range",value:function(t,e,s,i){var o=I()(this.kdtree.ids,this.kdtree.coords,t,e,s,i,this.kdtree.nodeSize);console.log("range"),console.log(o)}},{key:"resetStore",value:function(){this.nodes={},this.colorHash={},this.triggerDraw()}},{key:"sortNodes",value:function(){this.sorted=!this.sorted,this.sortedNodes.length||(console.time("sortNodes"),this.sortedNodes=p()(this.nodes).sort(function(t,e){return console.log(t.cliqueLen-e.cliqueLen),t.cliqueLen-e.cliqueLen}),console.timeEnd("sortNodes")),this.triggerDraw()}},{key:"clear",value:function(){this.ctx.resetTransform(),this.ctx.clearRect(0,0,this.width,this.height),this.ctx.translate(this.translateX,this.translateY),this.ctx.scale(this.scale,this.scale),console.log(this.translateX,this.translateY),this.hitCtx.resetTransform(),this.hitCtx.clearRect(0,0,this.width,this.height),this.hitCtx.translate(this.translateX,this.translateY),this.hitCtx.scale(this.scale,this.scale)}},{key:"drawHitmap",value:function(){var t=this;console.time("drawHitmap");var e=this.width,s=this.height,i=this.translateX,o=this.translateY,n=this.zoomStage,a=this.scale,r=new Uint8ClampedArray(e*s*4),c=this.ui.sizeRanked,l=this.sorted?this.sortedNodes:p()(this.nodes),h="neighbours"===this.ui.$route.name;l.forEach(function(l){var d=Math.floor(l.x*a+i),u=Math.floor(l.y*a+o),v=c?n+Math.floor(l.rank*t.sizeRange):n;(v+=t.imgSize)<0&&(v=0),v>14&&(v=14);var g=l.imageData[v],p=g.width,f=g.height,m=d>0&&u>0&&d<e-p&&u<s-f,w=!0;if(l.labels.forEach(function(e,s){e&&t.ui.labels[s]&&t.ui.labels[s].labels.forEach(function(t){t&&!t.show&&t.name===e&&(w=!1)})}),h&&!l.group){var b=t.groupNeighbours[l.index];(!b||b>t.ui.groupNeighboursThreshold)&&(w=!1)}if(g&&m)if(l.cluster<t.cluster&&w)for(var _=0;_<f;_+=1)for(var k=4*((u+_)*e+d),C=0;C<p;C+=1){var y=k+4*C;r[y]=l.colorKey[0],r[y+1]=l.colorKey[1],r[y+2]=l.colorKey[2],r[y+3]=255}else{var x=4*(u*e+d);r[x]=l.colorKey[0],r[x+1]=l.colorKey[1],r[x+2]=l.colorKey[2],r[x+3]=255,r[x=4*(u*e+d+1)]=l.colorKey[0],r[x+1]=l.colorKey[1],r[x+2]=l.colorKey[2],r[x+3]=255,r[x=4*(u*e+e+d)]=l.colorKey[0],r[x+1]=l.colorKey[1],r[x+2]=l.colorKey[2],r[x+3]=255,r[x=4*(u*e+e+d+1)]=l.colorKey[0],r[x+1]=l.colorKey[1],r[x+2]=l.colorKey[2],r[x+3]=255}else m&&(console.error("Bild scheint nicht fertig geladen"),console.log(l),console.log(n))});var d=new ImageData(r,e,s),u=this.ui.toggle?this.ctx:this.hitCtx;u.resetTransform(),u.clearRect(0,0,this.width,this.height),u.putImageData(d,0,0),console.timeEnd("drawHitmap")}},{key:"draw2",value:function(){var t=this;console.time("draw2");var e=this.width,s=this.height,i=this.translateX,o=this.translateY,n=this.zoomStage,a=this.scale,r=new Uint8ClampedArray(e*s*4),c=this.ui.boarderRanked,l=this.ui.sizeRanked,h=this.ui.gradient,d=this.sorted?this.sortedNodes:p()(this.nodes),u="neighbours"===this.ui.$route.name;d.forEach(function(d){var v=Math.floor(d.x*a+i),g=Math.floor(d.y*a+o),p=l?n+Math.floor(d.rank*t.sizeRange):n;(p+=t.imgSize)<0&&(p=0),p>14&&(p=14);var f=d.imageData[p],m=f.width,w=f.height,b=v>1&&g>1&&v<e-m-1&&g<s-w-1,_=!0;if(d.labels.forEach(function(e,s){e&&t.ui.labels[s]&&t.ui.labels[s].labels.forEach(function(t){t&&!t.show&&t.name===e&&(_=!1)})}),u&&!d.group){var k=t.groupNeighbours[d.index];(!k||k>t.ui.groupNeighboursThreshold)&&(_=!1)}if(f&&b)if(d.cluster<t.cluster){var C=f.data;if(_)for(var y=0;y<w;y+=1)for(var x=4*((g+y)*e+v),N=0;N<m;N+=1){var S=x+4*N,R=4*(y*m+N);r[S]=C[R],r[S+1]=C[R+1],r[S+2]=C[R+2],r[S+3]?r[S+3]+=10*d.cliqueLen:r[S+3]=50+50*n}if(c)for(var G=h[d.cliqueLen],M=-2;M<=w+1;M+=1){var E=4*((g+M)*e+v);if(-2===M||M===w+1)for(var A=0;A<m;A+=1){var D=E+4*A;r[D]=G[0],r[D+1]=G[1],r[D+2]=G[2],r[D+3]=200}else{var I=E-8;r[I]=G[0],r[I+1]=G[1],r[I+2]=G[2],r[I+3]=200;var H=E+4*(m+1);r[H]=G[0],r[H+1]=G[1],r[H+2]=G[2],r[H+3]=200}}if(t.selectedCategory&&t.selectedLabel&&t.selectedLabel===d.labels[t.selectedCategory])for(var z=t.ui.labels[t.selectedCategory].labels.find(function(e){return e.name===t.selectedLabel}).color,L=-2;L<=w+1;L+=1){var T=4*((g+L)*e+v);if(-2===L||L===w+1)for(var U=0;U<m;U+=1){var B=T+4*U;r[B]=z[0],r[B+1]=z[1],r[B+2]=z[2],r[B+3]=200}else{var X=T-8;r[X]=z[0],r[X+1]=z[1],r[X+2]=z[2],r[X+3]=200;var Y=T+4*(m+1);r[Y]=z[0],r[Y+1]=z[1],r[Y+2]=z[2],r[Y+3]=200}}}else{var F=4*(g*e+v);r[F]=210,r[F+1]=210,r[F+2]=210,r[F+3]=255,r[F=4*(g*e+v+1)]=210,r[F+1]=210,r[F+2]=210,r[F+3]=255,r[F=4*(g*e+e+v)]=210,r[F+1]=210,r[F+2]=210,r[F+3]=255,r[F=4*(g*e+e+v+1)]=210,r[F+1]=210,r[F+2]=210,r[F+3]=255}else b&&(console.error("Bild scheint nicht fertig geladen"),console.log(d),console.log(n))});var v=[225,225,115];if(d.forEach(function(c){if(c.group){var h=Math.floor(c.x*a+i),d=Math.floor(c.y*a+o),u=l?n+Math.floor(c.rank*t.sizeRange):n;(u+=t.imgSize)<0&&(u=0),u>14&&(u=14);var g=c.imageData[u],p=g.width,f=g.height;if(g&&(h>1&&d>1&&h<e-p-1&&d<s-f-1))for(var m=Math.ceil(f/10),w=Math.ceil(p/10),b=0;b<m;b+=1)for(var _=4*((d+f+m+b)*e+h-w),k=0;k<p+2*w;k+=1){var C=_+4*k;r[C]=v[0],r[C+1]=v[1],r[C+2]=v[2],r[C+3]=225}}}),this.drawScissors)for(var g=this.scissorsStartX<this.scissorsEndX?this.scissorsStartX:this.scissorsEndX,f=this.scissorsStartY<this.scissorsEndY?this.scissorsStartY:this.scissorsEndY,m=Math.abs(this.scissorsEndX-this.scissorsStartX),w=Math.abs(this.scissorsEndY-this.scissorsStartY),b=[56,130,255],_=0;_<w;_+=1)for(var k=4*((f+_)*e+g),C=0;C<m;C+=1){var y=k+4*C;if(0===_||_===w-1)r[y]=b[0],r[y+1]=b[1],r[y+2]=b[2],r[y+3]=255;else if(0===C||C===m-1){var x=k;r[x]=b[0],r[x+1]=b[1],r[x+2]=b[2],r[x+3]=255;var N=k+4*(m-1);r[N]=b[0],r[N+1]=b[1],r[N+2]=b[2],r[N+3]=255}}var S=new ImageData(r,e,s);this.ctx.resetTransform(),this.ctx.clearRect(0,0,this.width,this.height),this.ctx.putImageData(S,0,0),console.timeEnd("draw2"),requestAnimationFrame(function(){return t.drawHitmap()}),this.valid=!0,this.ui.showHeatmap&&requestAnimationFrame(this.ui.drawHeatmap),this.ui.showNavMap&&requestAnimationFrame(this.ui.drawNavMapRect),this.ui.showNavHeatmap&&requestAnimationFrame(this.ui.drawNavHeatmapRect)}},{key:"zoom",value:function(t){t.preventDefault(),t.stopPropagation();var e=this.nodeUnderMouse;if(this.selection&&this.selection.links[e.index]){var s=e.index,i=this.selection.links;t.deltaY<0&&(console.log("zoom in - image smaller"),i[s]-=.1),t.deltaY>0&&(console.log("zoom out - image bigger"),i[s]+=.1),i[s]<.1&&(i[s]=.1),i[s]>1&&(i[s]=1),this.triggerDraw()}else{var o=this.scale,n=t.offsetX,a=t.offsetY,r=(n-this.translateX)/o,c=(a-this.translateY)/o;t.deltaY<0&&(console.log("zoom in"),this.scale+=20,this.zoomStage+=1,this.cluster*=this.clusterGrowth),t.deltaY>0&&(console.log("zoom out"),this.scale-=20,this.zoomStage-=1,this.cluster/=this.clusterGrowth);var l=this.scale-o;this.translateX-=r*l,this.translateY-=c*l,this.triggerDraw()}return!1}},{key:"findNodeByMousePosition",value:function(t,e){var s=this.hitCtx.getImageData(t,e,1,1).data,i="rgb("+s[0]+","+s[1]+","+s[2]+")",o=this.colorHash[i];return o>=0&&this.nodes[o]}},{key:"handleMouseDown",value:function(t){t.preventDefault(),t.stopPropagation(),console.log("mousedown");var e=this.nodeUnderMouse;this.nodeOnMouseDown=e,this.startX=t.offsetX,this.startY=t.offsetY,e?this.draggNode=e:this.scissors?(console.log("Scissors"),this.drawScissors=!0,this.scissorsStartX=this.startX,this.scissorsStartY=this.startY,this.triggerDraw()):this.dragging=!0}},{key:"handleMouseMove",value:function(t){var e=this,s=t.offsetX,i=t.offsetY;this.scissors&&(this.scissorsEndX=s,this.scissorsEndY=i,this.triggerDraw());var o=this.findNodeByMousePosition(s,i);if(this.nodeUnderMouse=o,this.ui.activeNode=o,o&&!o.hasImage&&this.socket.emit("requestImage",{name:o.name,index:o.index}),this.draggNode||this.dragging){var n=s-this.startX,a=i-this.startY;if(this.startX=s,this.startY=i,this.dragging)this.translateX+=n,this.translateY+=a;else if(this.draggNode){var r=n/this.scale,c=a/this.scale;this.draggNode.group?p()(this.nodes).forEach(function(t){t.group&&t.move(r,c)}):this.draggNode.move(r,c),this.selection&&this.selection===this.draggNode&&M()(this.selection.links).forEach(function(t){var s=R()(t,2),i=s[0],o=s[1],n=e.nodes[i];n&&n.move(r*o,c*o)})}this.triggerDraw()}}},{key:"handleMouseUp",value:function(t){var e=this;console.log("mouseup");var s=this.nodeUnderMouse,i=t.ctrlKey;if(s&&s===this.nodeOnMouseDown)switch(console.log("click on node:"),console.log(s),i&&(s.group=!s.group),this.ui.clickedNode=s,this.ui.$route.name){case"svm":break;case"neighbours":this.groupNeighbours[s.index]&&(this.removedGroupNeighbours[s.index]=this.groupNeighbours[s.index],this.groupNeighbours[s.index]=void 0);break;default:console.log("no mode selected - what to do with a node click now?")}if(this.dragging=!1,this.draggNode=!1,this.scissors){this.ui.cuttedNodes=[];var o=(this.scissorsStartX-this.translateX)/this.scale,n=(this.scissorsStartY-this.translateY)/this.scale,a=(this.scissorsEndX-this.translateX)/this.scale,r=(this.scissorsEndY-this.translateY)/this.scale;p()(this.nodes).forEach(function(t){(t.x>o&&t.x<a||t.x<o&&t.x>a)&&(t.y<n&&t.y>r||t.y>n&&t.y<r)&&(e.ui.cuttedNodes.push(t),t.group=!0)}),this.scissors=!1,this.ui.scissors=!1,this.drawScissors=!1}this.triggerDraw()}},{key:"handleDoubleClick",value:function(t){if(console.log("Double click"),this.nodeUnderMouse&&this.nodeUnderMouse!==this.selection?this.selection=this.nodeUnderMouse:this.selection=null,this.moveGroupToMouse){var e=(t.offsetX-this.translateX)/this.scale,s=(t.offsetY-this.translateY)/this.scale;this.moveGroupToPosition(e,s)}this.triggerDraw()}},{key:"sizeRange",set:function(t){this._sizeRange=t<0?0:t,this.triggerDraw()},get:function(){return this._sizeRange}},{key:"scale",set:function(t){this._scale=t<20?20:Math.round(t),this.triggerDraw(),this.ui.scale=this.scale},get:function(){return this._scale}},{key:"zoomStage",set:function(t){this._zoomStage=t<0?0:t,this.triggerDraw(),this.ui.zoomLvl=this.zoomStage},get:function(){return this._zoomStage}},{key:"imgSize",set:function(t){t<0||(this._imgSize=t),this.triggerDraw()},get:function(){return this._imgSize}},{key:"translateX",set:function(t){this._translateX=Math.round(t),this.ui.translateX=t},get:function(){return this._translateX}},{key:"translateY",set:function(t){this._translateY=Math.round(t),this.ui.translateY=t},get:function(){return this._translateY}},{key:"activeImgScale",set:function(t){this._activeImgScale=t<1?1:t,this.triggerDraw()},get:function(){return this._activeImgScale}},{key:"borderWidth",set:function(t){this._borderWidth=t<0?0:t,this.triggerDraw()},get:function(){return this._borderWidth}},{key:"cluster",set:function(t){this._cluster=t<1?1:t,this.triggerDraw(),this.ui.cluster=this.cluster},get:function(){return this._cluster}},{key:"scrollGrowth",set:function(t){this._scrollGrowth=t<=1?1.01:t},get:function(){return this._scrollGrowth}},{key:"scrollImgGrowth",set:function(t){this._scrollImgGrowth=t<=1?1.01:t},get:function(){return this._scrollImgGrowth}},{key:"clusterGrowth",get:function(){return this._clusterGrowth},set:function(t){this._clusterGrowth=t<=1?1.01:t,this.ui.clusterGrowth=this.clusterGrowth}},{key:"valid",set:function(t){var e=this;!t&&this.valid&&window.requestAnimationFrame(function(){return e.draw2()}),this._valid=t},get:function(){return this._valid}}]),t}(),z={render:function(){var t=this.$createElement;return(this._self._c||t)("input",{attrs:{type:"range",min:"0",max:"1",step:"0.01"},domProps:{value:this.value},on:{input:this.change}})},staticRenderFns:[]};var L=s("VU/8")({name:"range-slider",props:["value","change","input","slide"]},z,!1,function(t){s("WhvP")},"data-v-52b5e07e",null).exports,T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"triblet-area"},[t.node.negatives?s("div",{staticClass:"negatives area",class:{redActive:t.redActive},on:{click:t.toogleRed}},[t.node.negatives?t._l(t.node.negatives,function(e,i){return s("div",{key:i,staticClass:"image"},[s("img",{attrs:{src:e.icon.src,alt:""},on:{click:function(e){t.removeNegativ(i)}}})])}):t._e()],2):t._e(),t._v(" "),t.node.icon?s("div",{staticClass:"node"},[t.node.icon?[s("img",{attrs:{src:t.node.icon.src,alt:""}})]:t._e()],2):t._e(),t._v(" "),t.node.positives?s("div",{staticClass:"positives area",class:{greenActive:t.greenActive},on:{click:t.toogleBlue}},[t.node.positives?t._l(t.node.positives,function(e,i){return s("div",{key:i,staticClass:"image"},[s("img",{attrs:{src:e.icon.src,alt:""},on:{click:function(e){t.removePositiv(i)}}})])}):t._e()],2):t._e()])},staticRenderFns:[]};var U=s("VU/8")({name:"triplets",props:["node","positives","negatives"],data:function(){return{redActive:!1,greenActive:!1}},methods:{toogleRed:function(){!this.redActive&&this.greenActive&&(this.greenActive=!1),this.redActive=!this.redActive},toogleBlue:function(){!this.greenActive&&this.redActive&&(this.redActive=!1),this.greenActive=!this.greenActive},removePositiv:function(t){this.node.positives.splice(t,1)},removeNegativ:function(t){this.node.negatives.splice(t,1)}}},T,!1,function(t){s("PHjk")},"data-v-51ae4c7c",null).exports,B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"hash-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("line",{attrs:{x1:"4",y1:"9",x2:"20",y2:"9"}}),this._v(" "),e("line",{attrs:{x1:"4",y1:"15",x2:"20",y2:"15"}}),this._v(" "),e("line",{attrs:{x1:"10",y1:"3",x2:"8",y2:"21"}}),this._v(" "),e("line",{attrs:{x1:"16",y1:"3",x2:"14",y2:"21"}})])},staticRenderFns:[]};var X=s("VU/8")({name:"Hash"},B,!1,function(t){s("SyqW")},"data-v-01b2a535",null).exports,Y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"x-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("line",{attrs:{x1:"18",y1:"6",x2:"6",y2:"18"}}),this._v(" "),e("line",{attrs:{x1:"6",y1:"6",x2:"18",y2:"18"}})])},staticRenderFns:[]};var F=s("VU/8")({name:"X"},Y,!1,function(t){s("t/Ge")},"data-v-e1e7afb0",null).exports,P={name:"classifier",props:["nodes","node","labels","triggerDraw","getStore"],components:{Hash:X,X:F},data:function(){return{label:"",showLabelOptions:!1,selectedNodes:[],mouseOver:!1,selectedCategory:"0",showAddCategory:!1,category:""}},watch:{node:function(t){this.addNode(t)},nodes:function(t){var e=this;t&&t.forEach(function(t){return e.addNode(t)})}},methods:{addNode:function(t){t&&-1===this.selectedNodes.indexOf(t)&&this.selectedNodes.push(t)},removeNode:function(t){this.selectedNodes.splice(t,1)},addCategory:function(){console.log("addLabel clicked"),console.log(this.category);var t=r()(this.labels).length;this.labels[t]={name:this.category,labels:[]},this.category="",this.showAddCategory=!1},addLabel:function(){var t=this;console.log("addLabel clicked"),console.log(this.label),this.labels[this.selectedCategory].labels.some(function(e){return e.name===t.label})||this.labels[this.selectedCategory].labels.push({name:this.label,show:!0}),this.selectedNodes.forEach(function(e){e.labels[t.selectedCategory]=t.label}),this.label="",this.showLabelOptions=!1,this.triggerDraw()},handleFocus:function(t){console.log("input focus"),this.showLabelOptions=!0},handleBlur:function(t){console.log("input blur"),this.mouseOver||(this.showLabelOptions=!1)},chooseLabel:function(t){console.log("chooselabel"),this.label=t,this.showLabelOptions=!1},update:function(){var t=this;return v()(l.a.mark(function e(){var s,i,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("update"),s=t.getStore().getNodes(),i=d()({nodes:s}),e.next=5,fetch("/api/v1/updateLabels",{method:"POST",headers:{"Content-type":"application/json"},body:i}).then(function(t){return t.text()}).catch(function(t){console.error(t)});case 5:o=e.sent,console.log(o);case 7:case"end":return e.stop()}},e,t)}))()},clear:function(){this.selectedNodes=[]}},computed:{labelsFiltered:function(){var t=this;return this.labels[this.selectedCategory].labels.filter(function(e){return e.name.includes(t.label)})}}},K={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"classifier"},[s("div",{staticClass:"row wrap"},[t._l(t.labels,function(e,i){return s("div",{key:i,staticClass:"btn",class:{active:t.selectedCategory===i},on:{click:function(e){t.selectedCategory=i}}},[t._v("\n            "+t._s(e.name)+"\n        ")])}),t._v(" "),s("div",{staticClass:"btn",on:{click:function(e){t.showAddCategory=!t.showAddCategory}}},[t._v("\n            +\n        ")])],2),t._v(" "),t.showAddCategory?s("div",{staticClass:"row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],attrs:{type:"text"},domProps:{value:t.category},on:{input:function(e){e.target.composing||(t.category=e.target.value)}}}),t._v(" "),s("div",{staticClass:"btn",on:{click:t.addCategory}},[t._v("add")])]):t._e(),t._v(" "),s("div",{staticClass:"imgArea"},t._l(t.selectedNodes,function(e,i){return s("div",{key:i,staticClass:"image"},[s("img",{attrs:{src:e.icon,alt:""},on:{click:function(e){t.removeNode(i)}}})])})),t._v(" "),s("div",{staticClass:"row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"label"}],attrs:{type:"text"},domProps:{value:t.label},on:{focus:t.handleFocus,blur:t.handleBlur,input:function(e){e.target.composing||(t.label=e.target.value)}}}),t._v(" "),t.showLabelOptions?s("div",{staticClass:"dropdown",on:{mouseenter:function(e){t.mouseOver=!0},mouseleave:function(e){t.mouseOver=!1}}},t._l(t.labelsFiltered,function(e){return s("div",{key:e.name,staticClass:"item",on:{click:function(s){t.chooseLabel(e.name)}}},[t._v(t._s(e.name))])})):t._e(),t._v(" "),s("div",{staticClass:"btn",on:{click:t.addLabel}},[t._v("add"),s("hash")],1),t._v(" "),s("div",{staticClass:"btn",on:{click:t.clear}},[t._v("clear"),s("x")],1)]),t._v(" "),s("div",{staticClass:"btn",on:{click:t.update}},[t._v("update labels")])])},staticRenderFns:[]};var O=s("VU/8")(P,K,!1,function(t){s("npzO")},"data-v-52ffaee4",null).exports,W={name:"Groups",props:["groupNodesByIds","getGroupeIds"],data:function(){return{savedGroups:[]}},methods:{saveGroup:function(){var t="Group "+this.savedGroups.length,e=this.getGroupeIds();this.savedGroups.push({ids:e,name:t}),console.log("saved groups"),console.log(this.savedGroups)},loadGroup:function(t){var e=(this.savedGroups[t]||[]).ids;this.groupNodesByIds(e)},deleteGroup:function(t){this.savedGroups.splice(t,1)}}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"btn",on:{click:t.saveGroup}},[t._v("save group")]),t._v(" "),this.savedGroups.length?s("div",{staticClass:"group-list"},t._l(t.savedGroups,function(e,i){return s("div",{key:i,staticClass:"group-item row"},[s("div",{staticClass:"btn",on:{click:function(e){t.loadGroup(i)}}},[t._v(t._s(e.name+" ("+e.ids.length+")"))]),t._v(" "),s("div",{staticClass:"btn",on:{click:function(e){t.loadGroup(i)}}},[t._v("load")]),t._v(" "),s("div",{staticClass:"btn",on:{click:function(e){t.deleteGroup(i)}}},[t._v("delete")])])})):t._e()])},staticRenderFns:[]};var j=s("VU/8")(W,q,!1,function(t){s("wSwm")},"data-v-1f268d53",null).exports,V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"scissors-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("circle",{attrs:{cx:"6",cy:"6",r:"3"}}),this._v(" "),e("circle",{attrs:{cx:"6",cy:"18",r:"3"}}),this._v(" "),e("line",{attrs:{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}}),this._v(" "),e("line",{attrs:{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}}),this._v(" "),e("line",{attrs:{x1:"8.12",y1:"8.12",x2:"12",y2:"12"}})])},staticRenderFns:[]};var $=s("VU/8")({name:"Scissors"},V,!1,function(t){s("Oy0l")},"data-v-2a876edc",null).exports,Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"play-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("polygon",{attrs:{points:"5 3 19 12 5 21 5 3"}})])},staticRenderFns:[]};var Q=s("VU/8")({name:"Play"},Z,!1,function(t){s("Uf1n")},"data-v-69b322cc",null).exports,J={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"stop-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("rect",{attrs:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}})])},staticRenderFns:[]};var tt=s("VU/8")({name:"Stop"},J,!1,function(t){s("aAjQ")},"data-v-ce2a7afc",null).exports,et={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"slash-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),this._v(" "),e("line",{attrs:{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}})])},staticRenderFns:[]};var st=s("VU/8")({name:"Slash"},et,!1,function(t){s("Sfts")},"data-v-3c9b0d4f",null).exports,it={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"send-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("line",{attrs:{x1:"22",y1:"2",x2:"11",y2:"13"}}),this._v(" "),e("polygon",{attrs:{points:"22 2 15 22 11 13 2 9 22 2"}})])},staticRenderFns:[]};var ot=s("VU/8")({name:"Send"},it,!1,function(t){s("lCoD")},"data-v-21d8d5a2",null).exports,nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"map-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("polygon",{attrs:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}}),this._v(" "),e("line",{attrs:{x1:"8",y1:"2",x2:"8",y2:"18"}}),this._v(" "),e("line",{attrs:{x1:"16",y1:"6",x2:"16",y2:"22"}})])},staticRenderFns:[]};var at=s("VU/8")({name:"Map"},nt,!1,function(t){s("6E1l")},"data-v-6fa8e127",null).exports,rt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"target-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),this._v(" "),e("circle",{attrs:{cx:"12",cy:"12",r:"6"}}),this._v(" "),e("circle",{attrs:{cx:"12",cy:"12",r:"2"}})])},staticRenderFns:[]};var ct=s("VU/8")({name:"Target"},rt,!1,function(t){s("vQHT")},"data-v-f28fc1a4",null).exports,lt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"grid-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("rect",{attrs:{x:"3",y:"3",width:"7",height:"7"}}),this._v(" "),e("rect",{attrs:{x:"14",y:"3",width:"7",height:"7"}}),this._v(" "),e("rect",{attrs:{x:"14",y:"14",width:"7",height:"7"}}),this._v(" "),e("rect",{attrs:{x:"3",y:"14",width:"7",height:"7"}})])},staticRenderFns:[]};var ht=s("VU/8")({name:"Grid"},lt,!1,function(t){s("Cx0D")},"data-v-aab88064",null).exports,dt=s("wARq"),ut=s.n(dt);function vt(t,e,s){return"#"+gt(t)+gt(e)+gt(s)}function gt(t){return t=parseInt(t,10),isNaN(t)?"00":(t=Math.max(0,Math.min(t,255)),"0123456789ABCDEF".charAt((t-t%16)/16)+"0123456789ABCDEF".charAt(t%16))}function pt(t){return"#"==t.charAt(0)?t.substring(1,7):t}var ft={store:null,name:"TsneMap",components:{Scissors:$,X:F,Play:Q,Stop:tt,Send:ot,Navmap:at,Target:ct,Grid:ht,Slash:st,RangeSlider:L,Triplets:U,Classifier:O,Groups:j,"slider-picker":_.Slider},data:function(){return{items:[],positives:[],negatives:[],socket:null,connectedToSocket:!1,loadingNodes:!1,nodesTotal:0,nodesRecived:0,scale:0,zoomLvl:0,labels:[],selectedLabel:null,selectedCategory:null,showLabels:!1,clickedNode:null,labelColor:"#6057ff",showKLabels:!1,scissors:!1,target:!1,width:0,height:0,activeNode:{},cluster:5,imgSize:0,activeImgWidth:0,borderWidth:0,range:0,cuttedNodes:[],showOptions:!1,scrollGrowth:0,scrollImgGrowth:0,clusterGrowth:0,translateX:0,translateY:0,showHeatmap:!1,heatmapRadius:1,heatmapBlur:5,showNavMap:!1,navMapAlpha:.1,showNavHeatmap:!1,boarderRanked:!1,sizeRanked:!1,gradient:[[50,250,0],[100,250,0],[150,250,0],[200,250,0],[255,250,0],[255,150,0],[255,150,0],[255,100,0],[255,50,0],[255,0,0]],toggle:!1,zoomStage:0,showGroups:!0,sorted:!1,sizeRange:5,showColorPicker:!1,colors:{hex:"#194d33",hsl:{h:150,s:.5,l:.2,a:1},hsv:{h:150,s:.66,v:.3,a:1},rgba:{r:25,g:77,b:51,a:1},a:1},selectedGradient:0,autoUpdateEmbedding:!1,socketId:"",rgbToHex:vt,dataset:"001",groupNeighboursThreshold:.2}},methods:{getNode:function(t){return this.store.getNode(t)},getStore:function(){return this.store},sendData:function(){console.log("send data clicked"),console.log(this.store.nodes);var t=this.store.getNodes();console.log(t),this.store.resetStore(),this.socket.emit("updateNodes",{nodes:t}),this.reset()},changeActiveNode:function(t){return this.activeNode=t,null},groupNodesByIds:function(t){this.store.groupNodesByIds(t)},getGroupeIds:function(t){return this.store.getGroupeIds(t)},changeNeighboursThreshold:function(t){var e=t.target;console.log("changeNeighboursThreshold"),console.log(e.v),this.groupNeighboursThreshold=e.value,this.store.triggerDraw()},changeCluster:function(t){this.store.cluster+=t,this.cluster=this.store.cluster},triggerDraw:function(){this.store.triggerDraw()},sortNodes:function(){this.store.sortNodes(),this.sorted=this.store.sorted},drawHeatmap:function(){var t=this;console.time("drawHeatmap");var e=this.heatmap,s=p()(this.store.getNodes()).map(function(e){return[(e.x*t.store.scale+t.store.translateX)/4,(e.y*t.store.scale+t.store.translateY)/4,1]});e.radius(this.heatmapRadius,this.heatmapBlur),e.data(s),e.draw(),requestAnimationFrame(function(){return console.timeEnd("drawHeatmap")})},drawNavMap:function(){console.time("drawNavMap");var t=this.navMap.getContext("2d"),e=this.navMap.width,s=this.navMap.height;for(var i in t.clearRect(0,0,e,s),t.lineWidth=.05,this.store.nodes){var o=this.store.nodes[i],n=5*o.x+e/2,a=5*o.y+s/2,r=this.gradient[10*o.rank],c=this.boarderRanked?"rgb("+r[0]+","+r[1]+","+r[2]+")":"grey";t.fillStyle=c,t.strokeStyle=c,t.beginPath(),t.arc(n,a,3,0,2*Math.PI),t.globalAlpha=this.navMapAlpha,t.fill(),t.globalAlpha=1,t.stroke()}requestAnimationFrame(function(){return console.timeEnd("drawNavMap")})},drawNavMapRect:function(){console.time("drawNavMapRect");var t=this.navMapRect.getContext("2d"),e=20/this.store.scale,s=this.store.translateX/4,i=this.store.translateY/4,o=this.navMapRect.width,n=this.navMapRect.height,a=o/2-s*e,r=n/2-i*e;t.clearRect(0,0,this.navMapRect.width,this.navMapRect.height),t.strokeRect(a,r,o*e,n*e),requestAnimationFrame(function(){return console.timeEnd("drawNavMapRect")})},drawNavHeatmap:function(){console.time("drawNavHeatmap");var t=this.navHeatmap,e=this.navHeatmapRect.width,s=this.navHeatmapRect.height,i=p()(this.store.getNodes()).map(function(t){return[5*t.x+e/2,5*t.y+s/2,1]});t.radius(this.heatmapRadius,this.heatmapBlur),t.data(i),t.draw(),requestAnimationFrame(function(){return console.timeEnd("drawNavHeatmap")})},drawNavHeatmapRect:function(){console.time("drawNavHeatmapRect");var t=this.navHeatmapRect.getContext("2d"),e=20/this.store.scale,s=this.store.translateX/4,i=this.store.translateY/4,o=this.navMapRect.width,n=this.navMapRect.height,a=o/2-s*e,r=n/2-i*e;t.clearRect(0,0,this.navHeatmapRect.width,this.navHeatmapRect.height),t.strokeRect(a,r,o*e,n*e),requestAnimationFrame(function(){return console.timeEnd("drawNavHeatmapRect")})},toggleShowNavMap:function(){this.showNavMap=!this.showNavMap,this.showNavMap&&requestAnimationFrame(this.drawNavMap),this.showNavMap&&requestAnimationFrame(this.drawNavMapRect)},toggleShowNavHeatmap:function(){this.showNavHeatmap=!this.showNavHeatmap,this.showNavHeatmap&&requestAnimationFrame(this.drawNavHeatmap),this.showNavHeatmap&&requestAnimationFrame(this.drawNavHeatmapRect)},toggleShowHeatmap:function(){this.showHeatmap=!this.showHeatmap,this.showHeatmap&&requestAnimationFrame(this.drawHeatmap)},toggleSizeRanked:function(){this.sizeRanked=!this.sizeRanked,this.store.draw2()},toggleBoarderRanked:function(){this.boarderRanked=!this.boarderRanked,this.store.draw2()},toggleToggle:function(){this.toggle=!this.toggle,this.store.draw2()},changeImgSize:function(t){this.store.imgSize+=t,this.imgSize=this.store.imgSize},activeImgWidthMore:function(){this.store.activeImgScale+=1,this.activeImgWidth=this.store.activeImgScale},activeImgWidthLess:function(){this.store.activeImgScale-=1,this.activeImgWidth=this.store.activeImgScale},borderWidthMore:function(){this.store.borderWidth+=1,this.borderWidth=this.store.borderWidth},borderWidthLess:function(){this.store.borderWidth-=1,this.borderWidth=this.store.borderWidth},doubleNodes:function(){this.store.doubleNodes()},toggleShowOptions:function(){this.showOptions=!this.showOptions},changeScrollGrowth:function(t){this.store.scrollGrowth=Math.round(100*(this.store.scrollGrowth+t))/100,this.scrollGrowth=this.store.scrollGrowth},changeScrollImgGrowth:function(t){this.store.scrollImgGrowth=Math.round(100*(this.store.scrollImgGrowth+t))/100,this.scrollImgGrowth=this.store.scrollImgGrowth},changeClusterGrowth:function(t){this.store.clusterGrowth=Math.round(100*(this.store.clusterGrowth+t))/100},changeZoomStage:function(t){this.store.zoomStage+=t,this.zoomStage=this.store.zoomStage},changeHeatmapRadius:function(t){this.heatmapRadius+=t,this.drawHeatmap(),this.drawNavHeatmap()},changeHeatmapBlur:function(t){this.heatmapBlur+=t,this.drawHeatmap(),this.drawNavHeatmap()},changeSizeRange:function(t){this.store.sizeRange+=t,this.sizeRange=this.store.sizeRange},changeNavMapAlpha:function(t){this.navMapAlpha+=t,this.drawNavMap()},toggleShowKLabels:function(){this.showKLabels=!this.showKLabels,this.store.showKLabels=this.showKLabels,this.store.valid=!1,console.log(this.showKLabels)},toogleShowLabel:function(t){this.labels[this.selectedCategory].labels[t].show=!this.labels[this.selectedCategory].labels[t].show,this.store.triggerDraw()},toogleShowCategory:function(t){var e=this;this.labels[t].show=!this.labels[t].show,this.labels[t].labels.forEach(function(s){return s.show=e.labels[t].show}),this.store.triggerDraw()},toogleCategory:function(t){this.selectedCategory===t?this.selectedCategory=null:this.selectedCategory=t,this.store.selectedCategory=this.selectedCategory,this.store.triggerDraw()},toogleLabel:function(t){this.selectedLabel===t?this.selectedLabel=null:this.selectedLabel=t,this.store.selectedLabel=this.selectedLabel,this.store.triggerDraw()},changeLabelColor:function(t,e){var s;console.log("changeLabelColor"),this.labels[this.selectedCategory].labels[t].color[0]=(s=e.target.value,parseInt(pt(s).substring(0,2),16)),this.labels[this.selectedCategory].labels[t].color[1]=function(t){return parseInt(pt(t).substring(2,4),16)}(e.target.value),this.labels[this.selectedCategory].labels[t].color[2]=function(t){return parseInt(pt(t).substring(4,6),16)}(e.target.value),this.store.triggerDraw()},addLabeledToGroup:function(t){this.store.addLabeledToGroup(t)},selectTarget:function(){this.target=!this.target,this.store.moveGroupToMouse=this.target},selectScissors:function(){console.log("selectScissors"),this.scissors=!this.scissors,this.store.scissors=this.scissors},clearGroup:function(){this.store.clearGroup()},reset:function(){this.loadingNodes=!0,this.nodesRecived=0,this.nodesTotal=0},changeGradientColor:function(t){console.log("changeGradientColor"),this.selectedGradient=t,console.log(this.selectedGradient),this.colors.rgba.r=this.gradient[t][0],this.colors.rgba.g=this.gradient[t][1],this.colors.rgba.b=this.gradient[t][2],console.log(this.colors.rgba)},changeColor:function(t){console.log("changeColor"),console.log(t);var e=t.rgba;console.log(e),this.gradient.splice(this.selectedGradient,1,[e.r,e.g,e.b])},toggleUpdateEmbedding:function(){var t=this;return v()(l.a.mark(function e(){var s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.autoUpdateEmbedding=!t.autoUpdateEmbedding,!t.autoUpdateEmbedding){e.next=15;break}return console.log("startUpdateEmbedding"),console.log(t.socketId),e.prev=4,s=d()({nodes:t.store.getNodesSimple(),socketId:t.socketId}),e.next=8,fetch("/api/v1/startUpdateEmbedding",{method:"POST",headers:{"Content-type":"application/json"},body:s}).then(function(t){return t.text()});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.error(e.t0);case 13:e.next=16;break;case 15:console.log("stopUpdateEmbedding");case 16:case"end":return e.stop()}},e,t,[[4,10]])}))()},handleChangeDataset:function(t){this.dataset=t}},watch:{cluster:function(t){this.store.cluster=t},colors:function(t){console.log("watch color"),console.log(t),console.log(this.colors);var e=this.colors.rgba;e.b,e.g,e.r}},computed:{selectedNode:function(){return this.store&&this.store.selection&&this.store.selection.name},selectedNodeNeighboursCount:function(){return this.activeNode.links&&r()(this.activeNode.links).length},imageScale:function(){return this.store&&this.store.selection&&this.store.selection.imageScale}},mounted:function(){var t=this,e=new ut.a;e.postMessage({a:1}),e.onmessage=function(t){console.log("worker post a message"),console.log(t.type),console.log(t.data)};var s=m.a.connect("http://129.206.117.172:3000",{transports:["websocket"],reconnectionDelay:100,reconnectionDelayMax:1e3}),i=document.getElementById("canvas"),o=i.parentNode.clientWidth,n=i.parentNode.clientHeight;i.width=o,i.height=n;var a=document.createElement("canvas");a.width=o,a.height=n;var c=document.getElementById("heatmap");c.width=o/4,c.height=n/4,this.heatmap=b()(c);var l=document.getElementById("navMap");l.width=o/4,l.height=n/4,this.navMap=l;var h=document.getElementById("navMapRect");h.width=o/4,h.height=n/4,h.getContext("2d").strokeStyle="#3882ff",h.getContext("2d").lineWidth=1.5,this.navMapRect=h;var d=document.getElementById("navHeatmap");d.width=o/4,d.height=n/4,this.navHeatmap=b()(d);var u=document.getElementById("navHeatmapRect");u.width=o/4,u.height=n/4,u.getContext("2d").strokeStyle="#3882ff",u.getContext("2d").lineWidth=1.5,this.navHeatmapRect=u;var v=new H(i,a,s,this);this.store=v,v.labelColor=this.labelColor,this.cluster=v.cluster,this.activeImgWidth=v.activeImgScale,this.borderWidth=v.borderWidth,this.scrollGrowth=v.scrollGrowth,this.scrollImgGrowth=v.scrollImgGrowth,console.log("Save store"),console.log(this.store),this.socket=s,s.on("connect",function(){t.connectedToSocket=!0,console.log("conected"),console.log("Socket id: "+s.id),console.log(s),t.socketId=s.id;var e=t.store.getNodes();console.log("nodes in store while connect (its maybe just a reconnect)"),console.log(e),r()(e).length||t.loadingNodes||(s.emit("updateNodes",{nodes:{}}),t.reset())}),s.on("disconnect",function(e){t.connectedToSocket=!1,console.log("disconnect: "+e),console.log(s)}),s.on("node",function(e){e.index%100==0&&(console.log("receive node "+e.index),console.log(e)),t.nodesRecived||console.time("loadAllNodes"),t.nodesRecived+=1,v.addNode(new N(e,v.ctx,v.hitCtx)),v.triggerDraw()}),s.on("receiveImage",function(t){var e=v.nodes[t.index];e.image.src="data:image/jpeg;base64,"+t.buffer,e.hasImage=!0,v.valid=!1}),s.on("totalNodesCount",function(e){console.log("totalNodesCount"),console.log(e),t.nodesTotal=e}),s.on("allNodesSend",function(){console.log("allNodesSend"),t.loadingNodes=!1,console.timeEnd("loadAllNodes")}),s.on("updateLabels",function(e){console.log("updateLabels"),console.log(e),t.labels=e}),s.on("updateKdtree",function(t){console.log("updateKdtree"),console.log(t),v.kdtree=t}),s.on("updateEmbedding",function(e,s){console.log("updateEmbedding"),console.log(e),s({stopped:t.autoUpdateEmbedding}),t.store.updateNodes(e.nodes)}),s.on("connect_error",function(){console.log("connect_error")}),s.on("connect_timeout",function(){console.log("connect_timeout")}),s.on("reconnect",function(){console.log("reconnect")}),s.on("connecting",function(){console.log("connecting")}),s.on("reconnecting",function(){console.log("reconnecting")}),s.on("connect_failed",function(){console.log("connect_failed")}),s.on("reconnect_failed",function(){console.log("reconnect_failed")}),s.on("close",function(){console.log("close")})},beforeDestroy:function(){this.socket&&this.socket.disconnect(),clearInterval(this.store.timerId)}},mt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[s("div",{staticClass:"sub-header"},[s("div",{staticClass:"btn",attrs:{if:t.nodesTotal}},[t._v(t._s(t.nodesRecived+"/"+t.nodesTotal))]),t._v(" "),s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"btn"},[t._v(" "+t._s(t.scale))]),t._v(" "),s("div",{staticClass:"btn"},[t._v(t._s(t.zoomLvl))]),t._v(" "),s("div",{staticClass:"btn"},[t._v(t._s(t.translateX))]),t._v(" "),s("div",{staticClass:"btn"},[t._v(t._s(t.translateY))]),t._v(" "),s("div",{staticClass:"btn",on:{click:t.doubleNodes}},[t._v("doubleNodes")]),t._v(" "),s("div",{staticClass:"btn",class:{active:t.sorted},on:{click:t.sortNodes}},[t._v("sort")]),t._v(" "),s("div",{staticClass:"btn",class:{active:t.boarderRanked},on:{click:t.toggleBoarderRanked}},[t._v("boarderRanked")]),t._v(" "),s("div",{staticClass:"btn",class:{active:t.sizeRanked},on:{click:t.toggleSizeRanked}},[t._v("sizeRanked")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"dropdownArea"}),t._v(" "),s("div",{staticClass:"btn",class:{active:t.showHeatmap},on:{click:t.toggleShowHeatmap}},[s("navmap")],1),t._v(" "),s("div",{staticClass:"btn",class:{active:t.showNavMap},on:{click:t.toggleShowNavMap}},[s("navmap")],1),t._v(" "),s("div",{staticClass:"btn",class:{active:t.showNavHeatmap},on:{click:t.toggleShowNavHeatmap}},[s("navmap")],1),t._v(" "),s("div",{staticClass:"categoriesArea",on:{mouseenter:function(e){t.showLabels=!0},mouseleave:function(e){t.showLabels=!1}}},[s("div",{staticClass:"btn"},[t._v("categories")]),t._v(" "),t.showLabels?s("div",{staticClass:"categories"},t._l(t.labels,function(e,i){return s("div",{key:i},[s("div",{staticClass:"btn",class:{active:t.selectedCategory===i},on:{click:function(e){t.toogleCategory(i)}}},[t._v("\n                                "+t._s(e.name)+"\n                                "),s("div",{staticClass:"btn",class:{active:!e.show},on:{click:function(e){e.stopPropagation(),t.toogleShowCategory(i)}}},[s("slash")],1)]),t._v(" "),t.selectedCategory===i?s("div",t._l(e.labels,function(e,i){return s("div",{key:e.name,staticClass:"btn",class:{active:t.selectedLabel===e.name},on:{click:function(s){t.toogleLabel(e.name)}}},[t._v("\n                                    "+t._s(e.name)+"\n                                    "),s("div",{staticClass:"btn",on:{click:function(s){s.stopPropagation(),t.addLabeledToGroup(e.name)}}},[s("grid")],1),t._v(" "),s("div",{staticClass:"btn",class:{active:!e.show},on:{click:function(e){e.stopPropagation(),t.toogleShowLabel(i)}}},[s("slash")],1),t._v(" "),s("div",{staticClass:"btn"},[s("input",{staticClass:"color-box",style:{backgroundColor:"rgb("+e.color[0]+","+e.color[1]+","+e.color[2]+")"},attrs:{type:"color"},domProps:{value:t.rgbToHex(e.color[0],e.color[1],e.color[2])},on:{change:function(e){e.preventDefault(),t.changeLabelColor(i,e)}}})])])})):t._e()])})):t._e()]),t._v(" "),s("div",{staticClass:"btn",class:{active:t.showOptions},on:{click:t.toggleShowOptions}},[t._v("Options")]),t._v(" "),s("div",{staticClass:"btn",class:{active:t.loadingNodes},on:{click:t.sendData}},[t._v("\n                    Update Data\n                    "),t.loadingNodes?t._e():s("send"),t._v(" "),t.loadingNodes?s("div",{staticClass:"loader"}):t._e()],1),t._v(" "),s("div",{staticClass:"btn",class:{active:t.autoUpdateEmbedding},on:{click:t.toggleUpdateEmbedding}},[t._v("\n                    "+t._s(t.autoUpdateEmbedding?"stop":"start")+"\n                    "),t.autoUpdateEmbedding?t._e():s("play"),t._v(" "),t.autoUpdateEmbedding?s("stop"):t._e()],1),t._v(" "),s("div",{staticClass:"tool-box row"},[s("div",{staticClass:"btn",class:{active:t.target},on:{click:t.selectTarget}},[s("target")],1),t._v(" "),s("div",{staticClass:"btn",class:{active:t.scissors},on:{click:t.selectScissors}},[s("scissors")],1),t._v(" "),s("div",{staticClass:"btn",on:{click:t.clearGroup}},[s("x")],1)])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"stack"},[s("canvas",{ref:"canvas",staticClass:"canvas",attrs:{id:"canvas",tabindex:"0"}}),t._v(" "),s("div",{staticClass:"maps"},[s("canvas",{staticClass:"canvas",class:{hide:!t.showHeatmap},attrs:{id:"heatmap",tabindex:"0"}}),t._v(" "),s("div",{staticClass:"navMap",class:{hide:!t.showNavMap}},[s("canvas",{staticClass:"canvas",attrs:{id:"navMap",tabindex:"0"}}),t._v(" "),s("canvas",{attrs:{id:"navMapRect",tabindex:"0"}})]),t._v(" "),s("div",{staticClass:"navMap",class:{hide:!t.showNavHeatmap}},[s("canvas",{staticClass:"canvas",attrs:{id:"navHeatmap",tabindex:"0"}}),t._v(" "),s("canvas",{attrs:{id:"navHeatmapRect",tabindex:"0"}})])])]),t._v(" "),s("div",{staticClass:"details"},[t.showOptions?s("div",{staticClass:"options info-box"},[s("div",{},[s("div",[t._v("Cluster: "+t._s(Math.round(t.cluster)))]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"btn",on:{click:function(e){t.changeCluster(-100)}}},[t._v("-100")]),t._v(" "),s("div",{staticClass:"btn",on:{click:function(e){t.changeCluster(-1e3)}}},[t._v("-1000")]),t._v(" "),s("div",{staticClass:"btn",on:{click:function(e){t.changeCluster(100)}}},[t._v("+100")]),t._v(" "),s("div",{staticClass:"btn",on:{click:function(e){t.changeCluster(1e3)}}},[t._v("+1000")])])]),t._v(" "),s("div",{staticClass:"row-btn"},[s("div",[t._v("ImageSize: "+t._s(t.imgSize))]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"btn",on:{click:function(e){t.changeImgSize(-1)}}},[t._v("-1")]),t._v(" "),s("div",{staticClass:"btn",on:{click:function(e){t.changeImgSize(1)}}},[t._v("+1")])])]),t._v(" "),s("div",{staticClass:"row-btn"},[s("div",[t._v("zoomStage: "+t._s(t.zoomStage))]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"btn",on:{click:function(e){t.changeZoomStage(-1)}}},[t._v("-1")]),t._v(" "),s("div",{staticClass:"btn",on:{click:function(e){t.changeZoomStage(1)}}},[t._v("+1")])])]),t._v(" "),s("div",{staticClass:"row-btn"},[s("div",[t._v("ClusterGrowth: "+t._s(t.clusterGrowth))]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"btn",on:{click:function(e){t.changeClusterGrowth(-.01)}}},[t._v("-0.1")]),t._v(" "),s("div",{staticClass:"btn",on:{click:function(e){t.changeClusterGrowth(.01)}}},[t._v("+0.1")])])]),t._v(" "),s("div",{staticClass:"option-title"},[t._v("Heatmap")]),t._v(" "),s("div",{staticClass:"row-btn"},[s("div",[t._v("Radius: "+t._s(t.heatmapRadius))]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"btn",on:{click:function(e){t.changeHeatmapRadius(-1)}}},[t._v("+1")]),t._v(" "),s("div",{staticClass:"btn",on:{click:function(e){t.changeHeatmapRadius(1)}}},[t._v("+1")])])]),t._v(" "),s("div",{staticClass:"row-btn"},[s("div",[t._v("Blur: "+t._s(t.heatmapBlur))]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"btn",on:{click:function(e){t.changeHeatmapBlur(-1)}}},[t._v("-1")]),t._v(" "),s("div",{staticClass:"btn",on:{click:function(e){t.changeHeatmapBlur(1)}}},[t._v("+1")])])]),t._v(" "),s("div",{staticClass:"row-btn"},[s("div",[t._v("sizeRange: "+t._s(t.sizeRange))]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"btn",on:{click:function(e){t.changeSizeRange(-1)}}},[t._v("-1")]),t._v(" "),s("div",{staticClass:"btn",on:{click:function(e){t.changeSizeRange(1)}}},[t._v("+1")])])]),t._v(" "),s("div",{staticClass:"option-title"},[t._v("Navmap")]),t._v(" "),s("div",{staticClass:"row-btn"},[s("div",[t._v("NavMapAlpha: "+t._s(t.navMapAlpha))]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"btn",on:{click:function(e){t.changeNavMapAlpha(-.1)}}},[t._v("-0.1")]),t._v(" "),s("div",{staticClass:"btn",on:{click:function(e){t.changeNavMapAlpha(.1)}}},[t._v("+0.1")])])]),t._v(" "),s("div",{staticClass:"row-btn"},t._l(t.gradient,function(e,i){return s("div",{key:i,staticClass:"color",class:{activeColor:t.selectedGradient===i},style:{backgroundColor:"rgb("+e[0]+","+e[1]+","+e[2]+")"},on:{click:function(e){t.changeGradientColor(i)}}},[t._v("\n                            "+t._s(i)+"\n                        ")])})),t._v(" "),s("slider-picker",{on:{input:t.changeColor},model:{value:t.colors,callback:function(e){t.colors=e},expression:"colors"}})],1):t._e(),t._v(" "),this.showGroups?s("groups",{attrs:{groupNodesByIds:t.groupNodesByIds,getGroupeIds:t.getGroupeIds}}):t._e(),t._v(" "),s("router-view",{attrs:{nodes:t.cuttedNodes,labels:t.labels,node:t.clickedNode,getNode:t.getNode,triggerDraw:t.triggerDraw,changeActiveNode:t.changeActiveNode,groupNodesByIds:t.groupNodesByIds,getGroupeIds:t.getGroupeIds,getStore:t.getStore,dataset:t.dataset,handleChangeDataset:t.handleChangeDataset,groupNeighboursThreshold:t.groupNeighboursThreshold,changeNeighboursThreshold:t.changeNeighboursThreshold}}),t._v(" "),t.activeNode?s("div",{staticClass:"info-box"},[t.activeNode.hasImage?s("img",{staticClass:"img",attrs:{src:t.activeNode.image.src}}):t._e(),t._v(" "),s("div",[t._v("Name: "+t._s(t.activeNode.name))]),t._v(" "),s("div",[t._v("Label: "+t._s(t.activeNode.label))]),t._v(" "),s("div",[t._v("Labels: "+t._s(t.activeNode.labels))]),t._v(" "),s("div",[t._v("Links #: "+t._s(t.selectedNodeNeighboursCount))])]):t._e()],1)]),t._v(" "),s("triplets",{attrs:{node:t.activeNode}})],1)},staticRenderFns:[]};var wt={name:"App",components:{NavHeader:n,TsneMap:s("VU/8")(ft,mt,!1,function(t){s("UtJw")},"data-v-40607171",null).exports}},bt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("nav-header"),this._v(" "),e("tsne-map")],1)},staticRenderFns:[]};var _t=s("VU/8")(wt,bt,!1,function(t){s("dwfX")},null,null).exports,kt=s("/ocq"),Ct={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("Welcome Route")])},staticRenderFns:[]};var yt=s("VU/8")({name:"Welcome"},Ct,!1,function(t){s("DKs0")},"data-v-5b8ff904",null).exports,xt={name:"Svm",props:["node","nodes","getNode","changeActiveNode","groupNodesByIds"],data:function(){return{positives:[],positivesAll:[],negatives:[],negativesAll:[],topScored:[],selectPositives:!0,loading:!1,count:0}},watch:{node:function(t){this.addNode(t)},nodes:function(t){var e=this;t&&t.forEach(function(t){return e.addNode(t)})}},methods:{addNode:function(t){t&&-1===this.positives.indexOf(t)&&-1===this.negatives.indexOf(t)&&(this.selectPositives?this.positives.push(t):this.negatives.push(t))},toggleActive:function(t){this.selectPositives=t},switchPositivs:function(t){this.negatives.push(this.positives[t]),this.positives.splice(t,1)},switchNegatives:function(t){this.positives.push(this.negatives[t]),this.negatives.splice(t,1)},removePositives:function(t){this.positives.splice(t,1)},removeNegatives:function(t){this.negatives.splice(t,1)},trainSvm:function(){var t=this;return v()(l.a.mark(function e(){var s,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("trainSvm clicked"),t.loading=!0,t.positives.forEach(function(e){return-1===t.positivesAll.indexOf(e)&&t.positivesAll.push(e)}),t.negatives.forEach(function(e){return-1===t.negativesAll.indexOf(e)&&t.negativesAll.push(e)}),s=d()({p:t.positivesAll.map(function(t){return t.index}),n:t.negativesAll.map(function(t){return t.index}),count:t.count}),e.next=7,fetch("/api/v1/svm/train",{method:"POST",headers:{"Content-type":"application/json"},body:s}).then(function(t){return t.json()}).catch(function(e){t.loading=!1,console.error(e)});case 7:i=e.sent,console.log(i),t.count+=1,t.positives=[],i.p.forEach(function(e){var s=t.getNode(e);s?t.positives.push(s):console.log(new Error("der zurückgegebene Index in trainSvm ist nicht als Knoten vorhanden"))}),t.negatives=[],i.n.forEach(function(e){var s=t.getNode(e);s?t.negatives.push(s):console.log(new Error("der zurückgegebene Index in trainSvm ist nicht als Knoten vorhanden"))}),t.topScored=[],i.t.forEach(function(e){var s=t.getNode(e);s?t.topScored.push(s):console.log(new Error("der zurückgegebene Index in trainSvm ist nicht als Knoten vorhanden"))}),t.loading=!1,console.log("done");case 18:case"end":return e.stop()}},e,t)}))()},stopSvm:function(){var t=this;return v()(l.a.mark(function e(){var s,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("stopSvm clicked"),t.loading=!0,e.next=4,fetch("/api/v1/svm/stop",{method:"POST",headers:{"Content-type":"application/json"}}).then(function(t){return t.json()}).catch(function(t){return console.error(t)});case 4:s=e.sent,i=s.group,t.groupNodesByIds(i),t.loading=!1;case 8:case"end":return e.stop()}},e,t)}))()},clearSvm:function(){this.count=0,this.positives=[],this.positivesAll=[],this.negatives=[],this.negativesAll=[],this.groupNodesByIds([])},handleMouseOver:function(t){this.changeActiveNode(t)}}},Nt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"area"},[t.loading?s("div",{staticClass:"loading"},[s("div",{staticClass:"loading-wheel"})]):t._e(),t._v(" "),s("div",{staticClass:"imgArea",class:{activePositiv:t.selectPositives},on:{click:function(e){t.toggleActive(!0)}}},t._l(t.positives,function(e,i){return s("div",{key:i,staticClass:"image",on:{mouseover:function(s){t.handleMouseOver(e)}}},[s("img",{attrs:{src:e.icon,alt:""},on:{click:function(e){t.switchPositivs(i)},contextmenu:function(e){e.preventDefault(),t.removePositives(i)}}})])})),t._v(" "),s("div",{staticClass:"imgArea",class:{activeNegativ:!t.selectPositives},on:{click:function(e){t.toggleActive(!1)}}},t._l(t.negatives,function(e,i){return s("div",{key:i,staticClass:"image",on:{mouseover:function(s){t.handleMouseOver(e)}}},[s("img",{attrs:{src:e.icon,alt:""},on:{click:function(e){t.switchNegatives(i)},contextmenu:function(e){e.preventDefault(),t.removeNegatives(i)}}})])})),t._v(" "),s("div",{staticClass:"imgArea"},t._l(t.topScored,function(t,e){return s("div",{key:e,staticClass:"image"},[s("img",{attrs:{src:t.icon,alt:""}})])})),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"btn",on:{click:t.trainSvm}},[t._v("train")]),t._v(" "),s("div",{staticClass:"btn",on:{click:t.stopSvm}},[t._v("stop")]),t._v(" "),s("div",{staticClass:"btn",on:{click:t.clearSvm}},[t._v("clear")])]),t._v(" "),s("div",{staticClass:"btn",on:{click:t.clearSvm}},[t._v(t._s(t.count))])])},staticRenderFns:[]};var St=s("VU/8")(xt,Nt,!1,function(t){s("5DVU")},"data-v-28fcea8c",null).exports,Rt={name:"Dataset",props:["dataset","handleChangeDataset"],data:function(){return{datasets:[],loading:!1}},mounted:function(){var t=this;return v()(l.a.mark(function e(){var s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,fetch("/api/v1/dataset/all").then(function(t){return t.json()});case 4:s=e.sent,console.log(s),t.datasets=s,t.loading=!1,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t.loading=!1,console.error(e.t0);case 14:case"end":return e.stop()}},e,t,[[0,10]])}))()}},Gt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[t._v("SELECT A DATASET")]),t._v(" "),t._l(t.datasets,function(e){return s("div",{key:e.id,staticClass:"area",on:{click:function(s){t.handleChangeDataset(e.id)}}},[s("div",{staticClass:"btn",class:{active:t.dataset===e.id}},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"description"},[t._v("#"+t._s(e.count))]),t._v(" "),s("div",{staticClass:"description"},[t._v(t._s(e.description))])])})],2)},staticRenderFns:[]};var Mt=s("VU/8")(Rt,Gt,!1,function(t){s("+ILC")},"data-v-1051a472",null).exports,Et={name:"Neighbours",props:["getStore","groupNeighboursThreshold","changeNeighboursThreshold"],components:{RangeSlider:L},data:function(){return{loading:!1,neighbours:[]}},mounted:function(){},methods:{getGroupNeighbours:function(){var t=this;return v()(l.a.mark(function e(){var s,i,o,n,a,c,h;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,s=t.getStore(),i={group:s.getGroupeIds(),threshold:t.groupNeighboursThreshold},o=s.groupNeighbours,n=s.removedGroupNeighbours,r()(o).length&&(i.neighbours=o,r()(n).length&&(i.removedNeighbours=n)),e.next=8,fetch("/api/v1/getGroupNeighbours",{method:"POST",headers:{"Content-type":"application/json"},body:d()(i)}).then(function(t){return t.json()}).catch(function(t){console.error(t)});case 8:a=e.sent,c=a.neighbours,h=a.group,s.updateGroupNeighbours(c),s.groupNodesByIds(h),console.log({neighbours:c,group:h}),t.loading=!1,e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),t.loading=!1,console.error(e.t0);case 20:case"end":return e.stop()}},e,t,[[0,16]])}))()},resetNeighbours:function(){this.getStore().resetGroupNeighbours()},resetGroup:function(){this.getStore().clearGroup()}}},At={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"btn",on:{click:t.getGroupNeighbours}},[t._v("Update Neighbours")]),t._v("\n    "+t._s(t.groupNeighboursThreshold)),s("range-slider",{attrs:{value:t.groupNeighboursThreshold,change:t.changeNeighboursThreshold}}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"btn",on:{click:t.resetGroup}},[t._v("reset group")]),t._v(" "),s("div",{staticClass:"btn",on:{click:t.resetNeighbours}},[t._v("reset Neighbours")])])],1)},staticRenderFns:[]};var Dt=s("VU/8")(Et,At,!1,function(t){s("rp5q")},"data-v-0818c275",null).exports;i.a.use(kt.a);var It=new kt.a({routes:[{path:"/",name:"Welcome",component:yt},{path:"/classifier",name:"classifier",component:O,props:!0},{path:"/svm",name:"svm",component:St,props:!0},{path:"/neighbours",name:"neighbours",component:Dt},{path:"/dataset",name:"dataset",component:Mt}]});s("cilB");i.a.config.productionTip=!1,new i.a({el:"#app",router:It,components:{App:_t},template:"<App/>"})},Oy0l:function(t,e){},PHjk:function(t,e){},Sfts:function(t,e){},SyqW:function(t,e){},Uf1n:function(t,e){},UtJw:function(t,e){},WhvP:function(t,e){},aAjQ:function(t,e){},cilB:function(t,e){},dwfX:function(t,e){},lCoD:function(t,e){},npzO:function(t,e){},rp5q:function(t,e){},"t/Ge":function(t,e){},vQHT:function(t,e){},wARq:function(t,e,s){t.exports=function(){return new Worker(s.p+"6e13635f1f8824adf8b7.worker.js")}},wSwm:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5c4f0c348dee7ecdcd48.js.map